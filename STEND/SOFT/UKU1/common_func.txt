; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\common_func.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\common_func.d --feedback=.\EXE\STEND.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_VD -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\common_func.crf common_func.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=1

                  abs PROC
;;;11     //-----------------------------------------------
;;;12     signed short abs(signed short in)
000000  2800              CMP      r0,#0
;;;13     {
;;;14     if(in<0)in=-in;
000002  da02              BGE      |L1.10|
000004  f1c00000          RSB      r0,r0,#0
000008  b200              SXTH     r0,r0
                  |L1.10|
;;;15     return in;
;;;16     }
00000a  4770              BX       lr
;;;17     
                          ENDP


                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  clr_scrn PROC
;;;11     //-----------------------------------------------
;;;12     signed short abs(signed short in)
000000  f04f0000          MOV      r0,#0
;;;13     {
;;;14     if(in<0)in=-in;
000004  4af9              LDR      r2,|L2.1004|
000006  f04f0120          MOV      r1,#0x20
                  |L2.10|
;;;15     return in;
;;;16     }
00000a  5411              STRB     r1,[r2,r0]
00000c  f1000001          ADD      r0,r0,#1
000010  b2c0              UXTB     r0,r0
000012  28c8              CMP      r0,#0xc8
000014  d3f9              BCC      |L2.10|
000016  4770              BX       lr
;;;17     
                          ENDP

                  find PROC
;;;28     //-----------------------------------------------
;;;29     char find(char xy)
000018  4601              MOV      r1,r0
;;;30     {
;;;31     char i=0;
00001a  f04f0000          MOV      r0,#0
;;;32     do i++;
;;;33     while ((lcd_buffer[i]!=xy)&&(i<LCD_SIZE));
00001e  4af3              LDR      r2,|L2.1004|
                  |L2.32|
000020  f1000001          ADD      r0,r0,#1              ;32
000024  b2c0              UXTB     r0,r0                 ;32
000026  5c13              LDRB     r3,[r2,r0]
000028  428b              CMP      r3,r1
00002a  d001              BEQ      |L2.48|
00002c  28c8              CMP      r0,#0xc8
00002e  d3f7              BCC      |L2.32|
                  |L2.48|
;;;34     //if(i==(LCD_SIZE)) i++;
;;;35     return i;
;;;36     }
000030  4770              BX       lr
;;;37     
                          ENDP

                  bin2bcd_int PROC
;;;39     //-----------------------------------------------
;;;40     void bin2bcd_int(unsigned int in)
000032  b510              PUSH     {r4,lr}
;;;41     {
;;;42     
;;;43     char i=5;
;;;44     for(i=0;i<5;i++)
000034  f04f0100          MOV      r1,#0
;;;45     	{
;;;46     	dig[i]=in%10;
000038  4ced              LDR      r4,|L2.1008|
00003a  f04f020a          MOV      r2,#0xa
                  |L2.62|
00003e  4603              MOV      r3,r0
000040  fbb0f0f2          UDIV     r0,r0,r2
000044  fb023310          MLS      r3,r2,r0,r3
000048  5463              STRB     r3,[r4,r1]
00004a  f1010101          ADD      r1,r1,#1              ;44
00004e  b2c9              UXTB     r1,r1                 ;44
000050  2905              CMP      r1,#5                 ;44
000052  d3f4              BCC      |L2.62|
;;;47     	in/=10;
;;;48     	}   
;;;49     }
000054  bd10              POP      {r4,pc}
;;;50     //-----------------------------------------------
                          ENDP

                  bcd2lcd_zero PROC
;;;51     void bcd2lcd_zero(char sig)
000056  b5f0              PUSH     {r4-r7,lr}
;;;52     {
;;;53     char i;
;;;54     zero_on=1;
000058  4de6              LDR      r5,|L2.1012|
00005a  f04f0101          MOV      r1,#1
00005e  7029              STRB     r1,[r5,#0]
;;;55     for (i=5;i>0;i--)
000060  f04f0105          MOV      r1,#5
;;;56     	{
;;;57     	if(zero_on&&(!dig[i-1])&&(i>sig))
000064  4be2              LDR      r3,|L2.1008|
;;;58     		{
;;;59     		dig[i-1]=0x20;
000066  f04f0620          MOV      r6,#0x20
00006a  f04f0700          MOV      r7,#0                 ;54
                  |L2.110|
00006e  782a              LDRB     r2,[r5,#0]            ;57  ; zero_on
000070  b142              CBZ      r2,|L2.132|
000072  185a              ADDS     r2,r3,r1              ;57
000074  f8124c01          LDRB     r4,[r2,#-1]           ;57
000078  b924              CBNZ     r4,|L2.132|
00007a  4281              CMP      r1,r0                 ;57
00007c  d902              BLS      |L2.132|
00007e  f8026c01          STRB     r6,[r2,#-1]
000082  e007              B        |L2.148|
                  |L2.132|
;;;60     		}
;;;61     	else
;;;62     		{
;;;63     		dig[i-1]=dig[i-1]+0x30;
000084  eb030201          ADD      r2,r3,r1
000088  f8124d01          LDRB     r4,[r2,#-1]!
00008c  f1040430          ADD      r4,r4,#0x30
000090  7014              STRB     r4,[r2,#0]
;;;64     		zero_on=0;
000092  702f              STRB     r7,[r5,#0]
                  |L2.148|
000094  f1a10101          SUB      r1,r1,#1              ;55
000098  b2c9              UXTB     r1,r1                 ;55
00009a  2900              CMP      r1,#0                 ;55
00009c  d1e7              BNE      |L2.110|
;;;65     		}	
;;;66     	}
;;;67     }             
00009e  bdf0              POP      {r4-r7,pc}
;;;68     
                          ENDP

                  int2lcd_mmm PROC
;;;151    //-----------------------------------------------
;;;152    void int2lcd_mmm(signed short in,char xy,char des)
0000a0  b5fe              PUSH     {r1-r7,lr}
;;;153    {
0000a2  4603              MOV      r3,r0
;;;154    signed char i;
;;;155    char n;
;;;156    char s[10];
;;;157    char minus='+';
0000a4  f04f072b          MOV      r7,#0x2b
;;;158    char zero_on;
;;;159    char simb_num;
;;;160    
;;;161    if(in<0)
0000a8  2b00              CMP      r3,#0
0000aa  da04              BGE      |L2.182|
;;;162    	{
;;;163    	in=-in;
0000ac  f1c30000          RSB      r0,r3,#0
0000b0  b203              SXTH     r3,r0
;;;164    	minus='-';
0000b2  f04f072d          MOV      r7,#0x2d
                  |L2.182|
;;;165    	}
;;;166    
;;;167    for(i=0;i<10;i++)
0000b6  f04f0000          MOV      r0,#0
;;;168    	{
;;;169    	s[i]=in%10;
0000ba  f04f040a          MOV      r4,#0xa
0000be  466d              MOV      r5,sp                 ;156
                  |L2.192|
0000c0  fb93f6f4          SDIV     r6,r3,r4
0000c4  fb043316          MLS      r3,r4,r6,r3
0000c8  542b              STRB     r3,[r5,r0]
;;;170    	in/=10;
0000ca  b233              SXTH     r3,r6
0000cc  f1000001          ADD      r0,r0,#1              ;167
0000d0  b240              SXTB     r0,r0                 ;167
0000d2  280a              CMP      r0,#0xa               ;167
0000d4  dbf4              BLT      |L2.192|
;;;171    	}   
;;;172    
;;;173    zero_on=1;
0000d6  f04f0301          MOV      r3,#1
;;;174    simb_num=0;
0000da  f04f0400          MOV      r4,#0
;;;175    
;;;176    for (i=9;i>=0;i--)
0000de  f04f0009          MOV      r0,#9
;;;177    	{
;;;178    	if(zero_on&&(!s[i])&&(i>(des)))
;;;179    	     {
;;;180    	     s[i]=0x20;
0000e2  f04f0620          MOV      r6,#0x20
                  |L2.230|
0000e6  b143              CBZ      r3,|L2.250|
0000e8  f815c000          LDRB     r12,[r5,r0]           ;178
0000ec  f1bc0f00          CMP      r12,#0                ;178
0000f0  d103              BNE      |L2.250|
0000f2  4290              CMP      r0,r2                 ;178
0000f4  dd01              BLE      |L2.250|
0000f6  542e              STRB     r6,[r5,r0]
0000f8  e008              B        |L2.268|
                  |L2.250|
;;;181    	     }
;;;182    	else 
;;;183    	     {
;;;184    	     s[i]=s[i]+0x30;
0000fa  5c2b              LDRB     r3,[r5,r0]
0000fc  f1030330          ADD      r3,r3,#0x30
000100  542b              STRB     r3,[r5,r0]
;;;185    	     zero_on=0;
000102  f04f0300          MOV      r3,#0
;;;186    	     simb_num++;
000106  f1040401          ADD      r4,r4,#1
00010a  b2e4              UXTB     r4,r4
                  |L2.268|
00010c  f1a00001          SUB      r0,r0,#1              ;176
000110  b240              SXTB     r0,r0                 ;176
000112  2800              CMP      r0,#0                 ;176
000114  dae7              BGE      |L2.230|
;;;187    	     }
;;;188    	 }
;;;189    	          
;;;190    if(minus=='-')	
000116  2f2d              CMP      r7,#0x2d
000118  d104              BNE      |L2.292|
;;;191         {
;;;192         s[simb_num++]=minus; 
00011a  4620              MOV      r0,r4
00011c  f1040401          ADD      r4,r4,#1
000120  b2e4              UXTB     r4,r4
000122  542f              STRB     r7,[r5,r0]
                  |L2.292|
;;;193         }    
;;;194    if(des)
000124  b18a              CBZ      r2,|L2.330|
;;;195         {
;;;196         for(i=simb_num;i>des;i--)
000126  b260              SXTB     r0,r4
000128  e007              B        |L2.314|
                  |L2.298|
;;;197              {
;;;198              s[i]=s[i-1];
00012a  eb050300          ADD      r3,r5,r0
00012e  f8133c01          LDRB     r3,[r3,#-1]
000132  542b              STRB     r3,[r5,r0]
000134  f1a00001          SUB      r0,r0,#1              ;196
000138  b240              SXTB     r0,r0                 ;196
                  |L2.314|
00013a  4290              CMP      r0,r2                 ;196
00013c  dcf5              BGT      |L2.298|
;;;199              }
;;;200         s[des]='.';
00013e  f04f002e          MOV      r0,#0x2e
000142  54a8              STRB     r0,[r5,r2]
;;;201         simb_num++;     
000144  f1040401          ADD      r4,r4,#1
000148  b2e4              UXTB     r4,r4
                  |L2.330|
;;;202         }
;;;203    	
;;;204    n=find(xy);
00014a  4608              MOV      r0,r1
00014c  f7fffffe          BL       find
;;;205    for (i=0;i<simb_num;i++)
000150  f04f0100          MOV      r1,#0
;;;206    	{
;;;207         lcd_buffer[n-i]=s[i];
000154  4aa5              LDR      r2,|L2.1004|
000156  e006              B        |L2.358|
                  |L2.344|
000158  eba00601          SUB      r6,r0,r1
00015c  5c6b              LDRB     r3,[r5,r1]
00015e  5593              STRB     r3,[r2,r6]
000160  f1010101          ADD      r1,r1,#1              ;205
000164  b249              SXTB     r1,r1                 ;205
                  |L2.358|
000166  42a1              CMP      r1,r4                 ;205
000168  dbf6              BLT      |L2.344|
;;;208    	}
;;;209    }
00016a  bdfe              POP      {r1-r7,pc}
;;;210    
                          ENDP

                  long2lcdyx_mmm PROC
;;;271    //-----------------------------------------------
;;;272    void long2lcdyx_mmm(signed long in,char y,char x,char des)
00016c  e92d41fe          PUSH     {r1-r8,lr}
;;;273    {
;;;274    signed char i;
;;;275    char n;
;;;276    char s[10];
;;;277    char minus='+';
000170  f04f0c2b          MOV      r12,#0x2b
;;;278    char zero_on;
;;;279    char simb_num;
;;;280    
;;;281    if(in<0)
000174  2800              CMP      r0,#0
000176  da03              BGE      |L2.384|
;;;282    	{
;;;283    	in=-in;
000178  f1c00000          RSB      r0,r0,#0
;;;284    	minus='-';
00017c  f04f0c2d          MOV      r12,#0x2d
                  |L2.384|
;;;285    	}
;;;286    
;;;287    for(i=0;i<10;i++)
000180  f04f0400          MOV      r4,#0
;;;288    	{
;;;289    	s[i]=in%10;
000184  f04f050a          MOV      r5,#0xa
000188  466f              MOV      r7,sp                 ;276
                  |L2.394|
00018a  4606              MOV      r6,r0
00018c  fb90f0f5          SDIV     r0,r0,r5
000190  fb056610          MLS      r6,r5,r0,r6
000194  553e              STRB     r6,[r7,r4]
000196  f1040401          ADD      r4,r4,#1              ;287
00019a  b264              SXTB     r4,r4                 ;287
00019c  2c0a              CMP      r4,#0xa               ;287
00019e  dbf4              BLT      |L2.394|
;;;290    	in/=10;
;;;291    	}   
;;;292    
;;;293    zero_on=1;
0001a0  f04f0501          MOV      r5,#1
;;;294    simb_num=0;
0001a4  f04f0400          MOV      r4,#0
;;;295    
;;;296    for (i=9;i>=0;i--)
0001a8  f04f0009          MOV      r0,#9
;;;297    	{
;;;298    	if(zero_on&&(!s[i])&&(i>(des)))
;;;299    	     {
;;;300    	     s[i]=0x20;
0001ac  f04f0620          MOV      r6,#0x20
                  |L2.432|
0001b0  b145              CBZ      r5,|L2.452|
0001b2  f8178000          LDRB     r8,[r7,r0]            ;298
0001b6  f1b80f00          CMP      r8,#0                 ;298
0001ba  d103              BNE      |L2.452|
0001bc  4298              CMP      r0,r3                 ;298
0001be  dd01              BLE      |L2.452|
0001c0  543e              STRB     r6,[r7,r0]
0001c2  e008              B        |L2.470|
                  |L2.452|
;;;301    	     }
;;;302    	else 
;;;303    	     {
;;;304    	     s[i]=s[i]+0x30;
0001c4  5c3d              LDRB     r5,[r7,r0]
0001c6  f1050530          ADD      r5,r5,#0x30
0001ca  543d              STRB     r5,[r7,r0]
;;;305    	     zero_on=0;
0001cc  f04f0500          MOV      r5,#0
;;;306    	     simb_num++;
0001d0  f1040401          ADD      r4,r4,#1
0001d4  b2e4              UXTB     r4,r4
                  |L2.470|
0001d6  f1a00001          SUB      r0,r0,#1              ;296
0001da  b240              SXTB     r0,r0                 ;296
0001dc  2800              CMP      r0,#0                 ;296
0001de  dae7              BGE      |L2.432|
;;;307    	     }
;;;308    	 }
;;;309    	          
;;;310    if(minus=='-')	
0001e0  f1bc0f2d          CMP      r12,#0x2d
0001e4  d105              BNE      |L2.498|
;;;311         {
;;;312         s[simb_num++]=minus; 
0001e6  4620              MOV      r0,r4
0001e8  f1040401          ADD      r4,r4,#1
0001ec  b2e4              UXTB     r4,r4
0001ee  f807c000          STRB     r12,[r7,r0]
                  |L2.498|
;;;313         }    
;;;314    if(des)
0001f2  b18b              CBZ      r3,|L2.536|
;;;315         {
;;;316         for(i=simb_num;i>des;i--)
0001f4  b260              SXTB     r0,r4
0001f6  e007              B        |L2.520|
                  |L2.504|
;;;317              {
;;;318              s[i]=s[i-1];
0001f8  eb070500          ADD      r5,r7,r0
0001fc  f8155c01          LDRB     r5,[r5,#-1]
000200  543d              STRB     r5,[r7,r0]
000202  f1a00001          SUB      r0,r0,#1              ;316
000206  b240              SXTB     r0,r0                 ;316
                  |L2.520|
000208  4298              CMP      r0,r3                 ;316
00020a  dcf5              BGT      |L2.504|
;;;319              }
;;;320         s[des]='.';
00020c  f04f002e          MOV      r0,#0x2e
000210  54f8              STRB     r0,[r7,r3]
;;;321         simb_num++;     
000212  f1040401          ADD      r4,r4,#1
000216  b2e4              UXTB     r4,r4
                  |L2.536|
;;;322         }
;;;323    	
;;;324    n=(20*y)+x;
000218  eb010081          ADD      r0,r1,r1,LSL #2
00021c  eb020080          ADD      r0,r2,r0,LSL #2
000220  b2c1              UXTB     r1,r0
;;;325    for (i=0;i<simb_num;i++)
000222  f04f0000          MOV      r0,#0
;;;326    	{
;;;327         lcd_buffer[n-i]=s[i];
000226  4a71              LDR      r2,|L2.1004|
000228  e006              B        |L2.568|
                  |L2.554|
00022a  eba10500          SUB      r5,r1,r0
00022e  5c3b              LDRB     r3,[r7,r0]
000230  5553              STRB     r3,[r2,r5]
000232  f1000001          ADD      r0,r0,#1              ;325
000236  b240              SXTB     r0,r0                 ;325
                  |L2.568|
000238  42a0              CMP      r0,r4                 ;325
00023a  dbf6              BLT      |L2.554|
;;;328    	}
;;;329    
;;;330    
;;;331    
;;;332    }
00023c  e8bd81fe          POP      {r1-r8,pc}
;;;333    
                          ENDP

                  int2lcdyx PROC
;;;334    //-----------------------------------------------
;;;335    void int2lcdyx(unsigned short in,char y,char x,char des)
000240  b570              PUSH     {r4-r6,lr}
;;;336    {
000242  460d              MOV      r5,r1
000244  4616              MOV      r6,r2
000246  461c              MOV      r4,r3
;;;337    char i;
;;;338    char n;
;;;339    bin2bcd_int(in);
000248  f7fffffe          BL       bin2bcd_int
;;;340    bcd2lcd_zero(des+1);
00024c  1c60              ADDS     r0,r4,#1
00024e  b2c0              UXTB     r0,r0
000250  f7fffffe          BL       bcd2lcd_zero
;;;341    i=(y*20)+x;
000254  eb050085          ADD      r0,r5,r5,LSL #2
000258  eb060080          ADD      r0,r6,r0,LSL #2
00025c  b2c1              UXTB     r1,r0
;;;342    for (n=0;n<5;n++)
00025e  f04f0000          MOV      r0,#0
;;;343    	{ 
;;;344    	if(n<des)
;;;345    		{
;;;346    		lcd_buffer[i]=dig[n];
000262  4b63              LDR      r3,|L2.1008|
000264  4d61              LDR      r5,|L2.1004|
                  |L2.614|
000266  42a0              CMP      r0,r4                 ;344
000268  d201              BCS      |L2.622|
00026a  5c1a              LDRB     r2,[r3,r0]
00026c  546a              STRB     r2,[r5,r1]
                  |L2.622|
;;;347    		}   
;;;348    	if((n>=des)&&(dig[n]!=0x20))
00026e  d307              BCC      |L2.640|
000270  5c1a              LDRB     r2,[r3,r0]
000272  2a20              CMP      r2,#0x20
000274  d004              BEQ      |L2.640|
;;;349    		{
;;;350    		if(!des)lcd_buffer[i]=dig[n];	
000276  b164              CBZ      r4,|L2.658|
;;;351    		else lcd_buffer[i-1]=dig[n];
000278  eb050601          ADD      r6,r5,r1
00027c  f8062c01          STRB     r2,[r6,#-1]
                  |L2.640|
;;;352       		}   
;;;353    	i--;	
000280  f1a10101          SUB      r1,r1,#1
000284  b2c9              UXTB     r1,r1
000286  f1000001          ADD      r0,r0,#1              ;342
00028a  b2c0              UXTB     r0,r0                 ;342
00028c  2805              CMP      r0,#5                 ;342
00028e  d3ea              BCC      |L2.614|
;;;354    	}
;;;355    }
000290  bd70              POP      {r4-r6,pc}
                  |L2.658|
000292  546a              STRB     r2,[r5,r1]            ;350
000294  e7f4              B        |L2.640|
;;;356    
                          ENDP

                  sub_bgnd PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
000296  b530              PUSH     {r4,r5,lr}
000298  4604              MOV      r4,r0
00029a  4608              MOV      r0,r1
00029c  4615              MOV      r5,r2
00029e  f7fffffe          BL       find
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
0002a2  28ff              CMP      r0,#0xff
0002a4  d00c              BEQ      |L2.704|
0002a6  4a51              LDR      r2,|L2.1004|
0002a8  e007              B        |L2.698|
                  |L2.682|
;;;436         	lcd_buffer[iii++]='!';
0002aa  eb000305          ADD      r3,r0,r5
0002ae  f1040401          ADD      r4,r4,#1
;;;437        	    	lcd_buffer[iii++]=':'; 
0002b2  54d1              STRB     r1,[r2,r3]
0002b4  f1000001          ADD      r0,r0,#1
0002b8  b2c0              UXTB     r0,r0
                  |L2.698|
0002ba  7821              LDRB     r1,[r4,#0]
;;;438        		lcd_buffer[iii++]='0';
0002bc  2900              CMP      r1,#0
0002be  d1f4              BNE      |L2.682|
                  |L2.704|
0002c0  bd30              POP      {r4,r5,pc}
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  int2lcd PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
0002c2  b570              PUSH     {r4-r6,lr}
;;;439        		lcd_buffer[iii++]='@';
0002c4  460d              MOV      r5,r1
0002c6  4614              MOV      r4,r2
0002c8  f7fffffe          BL       bin2bcd_int
;;;440         	lcd_buffer[iii++]=':';
0002cc  1c60              ADDS     r0,r4,#1
0002ce  b2c0              UXTB     r0,r0
0002d0  f7fffffe          BL       bcd2lcd_zero
0002d4  4628              MOV      r0,r5
;;;441         	lcd_buffer[iii++]='0';
0002d6  f7fffffe          BL       find
0002da  f04f0100          MOV      r1,#0
;;;442         	lcd_buffer[iii++]='#';
0002de  4a44              LDR      r2,|L2.1008|
;;;443             	int2lcd(dt__[0],'!',0);
0002e0  4d42              LDR      r5,|L2.1004|
                  |L2.738|
0002e2  b924              CBNZ     r4,|L2.750|
0002e4  5c53              LDRB     r3,[r2,r1]
0002e6  2b20              CMP      r3,#0x20
0002e8  d001              BEQ      |L2.750|
0002ea  542b              STRB     r3,[r5,r0]
0002ec  e015              B        |L2.794|
                  |L2.750|
0002ee  42a1              CMP      r1,r4
;;;444         	int2lcd(dt__[1],'@',0);
0002f0  d202              BCS      |L2.760|
0002f2  5c53              LDRB     r3,[r2,r1]
0002f4  542b              STRB     r3,[r5,r0]
0002f6  e010              B        |L2.794|
                  |L2.760|
0002f8  d108              BNE      |L2.780|
0002fa  f04f032e          MOV      r3,#0x2e
;;;445         	int2lcd(dt__[2],'#',0);    		     		
0002fe  542b              STRB     r3,[r5,r0]
000300  eb050600          ADD      r6,r5,r0
000304  5c53              LDRB     r3,[r2,r1]
000306  f8063c01          STRB     r3,[r6,#-1]
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
00030a  e006              B        |L2.794|
                  |L2.780|
00030c  5c53              LDRB     r3,[r2,r1]
00030e  2b20              CMP      r3,#0x20
000310  d003              BEQ      |L2.794|
000312  eb050600          ADD      r6,r5,r0
;;;450         	lcd_buffer[iii++]='0';
000316  f8063c01          STRB     r3,[r6,#-1]
                  |L2.794|
00031a  f1a00001          SUB      r0,r0,#1
;;;451         	lcd_buffer[iii++]='!';
00031e  b2c0              UXTB     r0,r0
000320  f1010101          ADD      r1,r1,#1
;;;452         	lcd_buffer[iii++]='@'; 
000324  b2c9              UXTB     r1,r1
000326  2905              CMP      r1,#5
000328  d3db              BCC      |L2.738|
00032a  bd70              POP      {r4-r6,pc}
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  long2lcdhyx PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
00032c  b517              PUSH     {r0-r2,r4,lr}
00032e  eb010081          ADD      r0,r1,r1,LSL #2
000332  eb020080          ADD      r0,r2,r0,LSL #2
;;;454          	lcd_buffer[iii++]=' ';
000336  b2c2              UXTB     r2,r0
000338  f89d3000          LDRB     r3,[sp,#0]
00033c  482e              LDR      r0,|L2.1016|
00033e  f003010f          AND      r1,r3,#0xf
;;;455          	lcd_buffer[iii++]='0';
000342  5c44              LDRB     r4,[r0,r1]
000344  4929              LDR      r1,|L2.1004|
000346  548c              STRB     r4,[r1,r2]
;;;456          	lcd_buffer[iii++]='#';
000348  f1a20201          SUB      r2,r2,#1
;;;457          	int2lcd(dt_[2],'!',0);
00034c  b2d2              UXTB     r2,r2
00034e  eb001313          ADD      r3,r0,r3,LSR #4
000352  781b              LDRB     r3,[r3,#0]
000354  548b              STRB     r3,[r1,r2]
000356  f1a20201          SUB      r2,r2,#1
;;;458         	int2lcd(dt_[0],'#',0);   
00035a  b2d2              UXTB     r2,r2
00035c  f89d3001          LDRB     r3,[sp,#1]
000360  f003040f          AND      r4,r3,#0xf
000364  5d04              LDRB     r4,[r0,r4]
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
000366  548c              STRB     r4,[r1,r2]
000368  f1a20201          SUB      r2,r2,#1
00036c  b2d2              UXTB     r2,r2
00036e  eb001313          ADD      r3,r0,r3,LSR #4
000372  781b              LDRB     r3,[r3,#0]
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
000374  548b              STRB     r3,[r1,r2]
000376  f1a20201          SUB      r2,r2,#1
00037a  b2d2              UXTB     r2,r2
00037c  f89d3002          LDRB     r3,[sp,#2]
000380  f003040f          AND      r4,r3,#0xf
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
000384  5d04              LDRB     r4,[r0,r4]
000386  548c              STRB     r4,[r1,r2]            ;466
000388  f1a20201          SUB      r2,r2,#1              ;466
00038c  b2d2              UXTB     r2,r2                 ;466
00038e  eb001313          ADD      r3,r0,r3,LSR #4       ;466
000392  781b              LDRB     r3,[r3,#0]            ;467
000394  548b              STRB     r3,[r1,r2]            ;467
000396  f1a20201          SUB      r2,r2,#1              ;467
00039a  b2d3              UXTB     r3,r2                 ;467
00039c  f89d2003          LDRB     r2,[sp,#3]            ;468
0003a0  f002040f          AND      r4,r2,#0xf            ;468
0003a4  5d04              LDRB     r4,[r0,r4]            ;468
0003a6  54cc              STRB     r4,[r1,r3]            ;468
0003a8  f1a30301          SUB      r3,r3,#1              ;468
0003ac  b2db              UXTB     r3,r3                 ;469
0003ae  eb001012          ADD      r0,r0,r2,LSR #4       ;469
0003b2  7800              LDRB     r0,[r0,#0]            ;469
0003b4  54c8              STRB     r0,[r1,r3]            ;469
0003b6  bd1e              POP      {r1-r4,pc}            ;469
;;;755    
                          ENDP

                  pointer_set PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
0003b8  b530              PUSH     {r4,r5,lr}
0003ba  4910              LDR      r1,|L2.1020|
;;;470        lcd_buffer[iii++]='â';
0003bc  2401              MOVS     r4,#1
0003be  4b0b              LDR      r3,|L2.1004|
0003c0  f9912001          LDRSB    r2,[r1,#1]  ; a_ind
0003c4  f9911004          LDRSB    r1,[r1,#4]  ; a_ind
0003c8  428a              CMP      r2,r1
0003ca  d104              BNE      |L2.982|
;;;471    	lcd_buffer[iii++]='û';
0003cc  eb000080          ADD      r0,r0,r0,LSL #2
0003d0  f8034020          STRB     r4,[r3,r0,LSL #2]
0003d4  bd30              POP      {r4,r5,pc}
                  |L2.982|
0003d6  1c4d              ADDS     r5,r1,#1
0003d8  42aa              CMP      r2,r5
0003da  d111              BNE      |L2.1024|
;;;472        lcd_buffer[iii++]='õ';
0003dc  f1000001          ADD      r0,r0,#1
0003e0  eb000080          ADD      r0,r0,r0,LSL #2
0003e4  f8034020          STRB     r4,[r3,r0,LSL #2]
                  |L2.1000|
0003e8  bd30              POP      {r4,r5,pc}
0003ea  0000              DCW      0x0000
                  |L2.1004|
                          DCD      lcd_buffer
                  |L2.1008|
                          DCD      ||dig||
                  |L2.1012|
                          DCD      zero_on
                  |L2.1016|
                          DCD      ABCDEF
                  |L2.1020|
                          DCD      a_ind
                  |L2.1024|
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
000400  1c8d              ADDS     r5,r1,#2
000402  42aa              CMP      r2,r5
000404  d106              BNE      |L2.1044|
000406  f1000002          ADD      r0,r0,#2
00040a  eb000080          ADD      r0,r0,r0,LSL #2
00040e  f8034020          STRB     r4,[r3,r0,LSL #2]
000412  e7e9              B        |L2.1000|
                  |L2.1044|
000414  1ccd              ADDS     r5,r1,#3
000416  42aa              CMP      r2,r5
000418  d106              BNE      |L2.1064|
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
00041a  f1000003          ADD      r0,r0,#3
00041e  eb000080          ADD      r0,r0,r0,LSL #2
;;;478         	lcd_buffer[iii++]='!';
000422  f8034020          STRB     r4,[r3,r0,LSL #2]
000426  e7df              B        |L2.1000|
                  |L2.1064|
000428  1d0d              ADDS     r5,r1,#4
;;;479        	    	lcd_buffer[iii++]=':'; 
00042a  42aa              CMP      r2,r5
00042c  d106              BNE      |L2.1084|
00042e  f1000004          ADD      r0,r0,#4
000432  eb000080          ADD      r0,r0,r0,LSL #2
;;;480        		lcd_buffer[iii++]='0';
000436  f8034020          STRB     r4,[r3,r0,LSL #2]
00043a  e7d5              B        |L2.1000|
                  |L2.1084|
;;;481        		lcd_buffer[iii++]='@';
00043c  1d4d              ADDS     r5,r1,#5
00043e  42aa              CMP      r2,r5
000440  d106              BNE      |L2.1104|
000442  f1000005          ADD      r0,r0,#5
;;;482         	lcd_buffer[iii++]=':';
000446  eb000080          ADD      r0,r0,r0,LSL #2
00044a  f8034020          STRB     r4,[r3,r0,LSL #2]
;;;483         	lcd_buffer[iii++]='0';
00044e  e7cb              B        |L2.1000|
                  |L2.1104|
000450  1d8d              ADDS     r5,r1,#6
000452  42aa              CMP      r2,r5
000454  d106              BNE      |L2.1124|
;;;484         	lcd_buffer[iii++]='#';
000456  f1000006          ADD      r0,r0,#6
00045a  eb000080          ADD      r0,r0,r0,LSL #2
00045e  f8034020          STRB     r4,[r3,r0,LSL #2]
000462  e7c1              B        |L2.1000|
                  |L2.1124|
000464  1dc9              ADDS     r1,r1,#7
;;;485             	int2lcd(dt__[0],'!',0);
000466  428a              CMP      r2,r1
000468  d1be              BNE      |L2.1000|
00046a  f1000007          ADD      r0,r0,#7
00046e  eb000080          ADD      r0,r0,r0,LSL #2
000472  f8034020          STRB     r4,[r3,r0,LSL #2]
;;;486         	int2lcd(dt__[1],'@',0);
000476  e7b7              B        |L2.1000|
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  tree_down PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
000478  4b82              LDR      r3,|L2.1668|
00047a  881a              LDRH     r2,[r3,#0]  ; ind_pointer
00047c  f1a20201          SUB      r2,r2,#1
000480  4410              ADD      r0,r0,r2
;;;487         	int2lcd(dt__[2],'#',0);    		     		
000482  b200              SXTH     r0,r0
000484  8018              STRH     r0,[r3,#0]
000486  4a80              LDR      r2,|L2.1672|
000488  eb000080          ADD      r0,r0,r0,LSL #2
00048c  4402              ADD      r2,r2,r0
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
00048e  487f              LDR      r0,|L2.1676|
000490  6813              LDR      r3,[r2,#0]            ;491
000492  6003              STR      r3,[r0,#0]            ;491  ; a_ind
000494  7912              LDRB     r2,[r2,#4]            ;491
000496  7102              STRB     r2,[r0,#4]            ;491
000498  7842              LDRB     r2,[r0,#1]            ;491  ; a_ind
00049a  4411              ADD      r1,r1,r2              ;492
00049c  7041              STRB     r1,[r0,#1]            ;492
00049e  4770              BX       lr                    ;492
;;;755    
                          ENDP

                  tree_up PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
0004a0  b570              PUSH     {r4-r6,lr}
;;;493         	lcd_buffer[iii++]='!';
0004a2  4d78              LDR      r5,|L2.1668|
0004a4  f9b54000          LDRSH    r4,[r5,#0]  ; ind_pointer
0004a8  f1040601          ADD      r6,r4,#1
;;;494         	lcd_buffer[iii++]='@'; 
0004ac  802e              STRH     r6,[r5,#0]
0004ae  4d76              LDR      r5,|L2.1672|
0004b0  eb040484          ADD      r4,r4,r4,LSL #2
;;;495          	lcd_buffer[iii++]=' ';
0004b4  4425              ADD      r5,r5,r4
0004b6  4c75              LDR      r4,|L2.1676|
0004b8  6826              LDR      r6,[r4,#0]  ; a_ind
0004ba  602e              STR      r6,[r5,#0]
;;;496          	lcd_buffer[iii++]=' ';
0004bc  7926              LDRB     r6,[r4,#4]  ; a_ind
0004be  712e              STRB     r6,[r5,#4]
0004c0  7020              STRB     r0,[r4,#0]
0004c2  7061              STRB     r1,[r4,#1]
0004c4  7122              STRB     r2,[r4,#4]
;;;497          	lcd_buffer[iii++]='0';
0004c6  70a3              STRB     r3,[r4,#2]
0004c8  bd70              POP      {r4-r6,pc}
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  bgnd_par PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
0004ca  e92d41f0          PUSH     {r4-r8,lr}
;;;498          	lcd_buffer[iii++]='#';
0004ce  4680              MOV      r8,r0
;;;499          	int2lcd(dt_[2],'!',0);
0004d0  460f              MOV      r7,r1
0004d2  4616              MOV      r6,r2
0004d4  f7fffffe          BL       clr_scrn
0004d8  4c6d              LDR      r4,|L2.1680|
0004da  f04f0500          MOV      r5,#0
                  |L2.1246|
0004de  f8180b01          LDRB     r0,[r8],#1
;;;500         	int2lcd(dt_[0],'#',0);   
0004e2  f8040b01          STRB     r0,[r4],#1
0004e6  f1050501          ADD      r5,r5,#1
0004ea  b2ed              UXTB     r5,r5
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
0004ec  2d14              CMP      r5,#0x14
0004ee  d3f6              BCC      |L2.1246|
0004f0  f04f0000          MOV      r0,#0
                  |L2.1268|
0004f4  f8171b01          LDRB     r1,[r7],#1
0004f8  f8041b01          STRB     r1,[r4],#1
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
0004fc  f1000001          ADD      r0,r0,#1
000500  b2c0              UXTB     r0,r0
000502  2814              CMP      r0,#0x14
000504  d3f6              BCC      |L2.1268|
000506  f04f0000          MOV      r0,#0
                  |L2.1290|
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
00050a  f8161b01          LDRB     r1,[r6],#1
00050e  f8041b01          STRB     r1,[r4],#1            ;510
000512  f1000001          ADD      r0,r0,#1              ;510
000516  b2c0              UXTB     r0,r0                 ;510
000518  2814              CMP      r0,#0x14              ;511
00051a  d3f6              BCC      |L2.1290|
00051c  f04f0000          MOV      r0,#0                 ;511
                  |L2.1312|
000520  f8131b01          LDRB     r1,[r3],#1            ;511
000524  f8041b01          STRB     r1,[r4],#1            ;512
000528  f1000001          ADD      r0,r0,#1              ;512
00052c  b2c0              UXTB     r0,r0                 ;512
00052e  2814              CMP      r0,#0x14              ;512
000530  d3f6              BCC      |L2.1312|
000532  e8bd81f0          POP      {r4-r8,pc}            ;513
;;;755    
                          ENDP

                  show_mess PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
000536  b510              PUSH     {r4,lr}
000538  9c02              LDR      r4,[sp,#8]
00053a  f7fffffe          BL       bgnd_par
00053e  4853              LDR      r0,|L2.1676|
000540  78c3              LDRB     r3,[r0,#3]  ; a_ind
;;;514        	lcd_buffer[iii++]='Ï';
000542  7882              LDRB     r2,[r0,#2]  ; a_ind
000544  7841              LDRB     r1,[r0,#1]  ; a_ind
000546  2047              MOVS     r0,#0x47
000548  f7fffffe          BL       tree_up
00054c  2064              MOVS     r0,#0x64
00054e  fb94f0f0          SDIV     r0,r4,r0
;;;515        	lcd_buffer[iii++]='Ñ';
000552  e8bd4010          POP      {r4,lr}
000556  b2c0              UXTB     r0,r0
000558  f7ffbffe          B.W      ||ret||
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  event_data2ind PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
;;;360    {
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
00055c  e92d43fe          PUSH     {r1-r9,lr}
;;;516     	if(dt[1]<9)
000560  460d              MOV      r5,r1
000562  ea4f1040          LSL      r0,r0,#5
000566  f5006080          ADD      r0,r0,#0x400
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
00056a  4604              MOV      r4,r0
00056c  a902              ADD      r1,sp,#8
00056e  4620              MOV      r0,r4
000570  f7fffffe          BL       lc640_read_long_ptr
000574  a901              ADD      r1,sp,#4
000576  f1040008          ADD      r0,r4,#8
;;;519        		lcd_buffer[iii++]=' ';
00057a  f7fffffe          BL       lc640_read_long_ptr
00057e  4669              MOV      r1,sp
000580  f104000c          ADD      r0,r4,#0xc
000584  f7fffffe          BL       lc640_read_long_ptr
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
000588  4628              MOV      r0,r5
00058a  f7fffffe          BL       find
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
00058e  4c40              LDR      r4,|L2.1680|
000590  f04f0620          MOV      r6,#0x20
000594  f1000101          ADD      r1,r0,#1
000598  b2c9              UXTB     r1,r1
00059a  5426              STRB     r6,[r4,r0]
00059c  f04f0730          MOV      r7,#0x30
0005a0  f1010001          ADD      r0,r1,#1
0005a4  b2c0              UXTB     r0,r0
0005a6  5467              STRB     r7,[r4,r1]
0005a8  f04f0821          MOV      r8,#0x21
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
0005ac  f1000101          ADD      r1,r0,#1
0005b0  b2c9              UXTB     r1,r1
0005b2  f8048000          STRB     r8,[r4,r0]
0005b6  f04f0940          MOV      r9,#0x40
0005ba  f1010001          ADD      r0,r1,#1
0005be  b2c0              UXTB     r0,r0
0005c0  f8049001          STRB     r9,[r4,r1]
0005c4  f1000101          ADD      r1,r0,#1
0005c8  b2c9              UXTB     r1,r1
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
0005ca  5426              STRB     r6,[r4,r0]
0005cc  f1010001          ADD      r0,r1,#1
0005d0  b2c0              UXTB     r0,r0
0005d2  5466              STRB     r6,[r4,r1]
;;;529        		lcd_buffer[iii++]=' ';     		
0005d4  f1000101          ADD      r1,r0,#1
0005d8  b2c9              UXTB     r1,r1
0005da  5427              STRB     r7,[r4,r0]
0005dc  f04f0223          MOV      r2,#0x23
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
0005e0  f1010001          ADD      r0,r1,#1
0005e4  b2c5              UXTB     r5,r0
0005e6  5462              STRB     r2,[r4,r1]
0005e8  f89d0006          LDRB     r0,[sp,#6]
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
0005ec  f04f0200          MOV      r2,#0
0005f0  f04f0121          MOV      r1,#0x21
0005f4  f7fffffe          BL       int2lcd
0005f8  f89d0004          LDRB     r0,[sp,#4]
0005fc  2200              MOVS     r2,#0
0005fe  2123              MOVS     r1,#0x23
000600  f7fffffe          BL       int2lcd
000604  f89d0005          LDRB     r0,[sp,#5]
000608  1e40              SUBS     r0,r0,#1
00060a  280c              CMP      r0,#0xc
00060c  d303              BCC      |L2.1558|
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
00060e  f04f0001          MOV      r0,#1
000612  f88d0005          STRB     r0,[sp,#5]
                  |L2.1558|
;;;537        		lcd_buffer[iii++]='!';
000616  f89d0005          LDRB     r0,[sp,#5]
00061a  491e              LDR      r1,|L2.1684|
00061c  2200              MOVS     r2,#0
;;;538        	    	lcd_buffer[iii++]=':'; 
00061e  eb010080          ADD      r0,r1,r0,LSL #2
000622  2140              MOVS     r1,#0x40
000624  f7fffffe          BL       sub_bgnd
;;;539        		lcd_buffer[iii++]='0';
000628  f1050001          ADD      r0,r5,#1
00062c  b2c0              UXTB     r0,r0
00062e  5566              STRB     r6,[r4,r5]
;;;540        		lcd_buffer[iii++]='@';
000630  f1000101          ADD      r1,r0,#1
000634  b2c9              UXTB     r1,r1
000636  5427              STRB     r7,[r4,r0]
;;;541        		lcd_buffer[iii++]=':';
000638  f1010001          ADD      r0,r1,#1
00063c  b2c0              UXTB     r0,r0
00063e  f8048001          STRB     r8,[r4,r1]
;;;542        		lcd_buffer[iii++]='0';
000642  f04f023a          MOV      r2,#0x3a
000646  f1000101          ADD      r1,r0,#1
;;;543        		lcd_buffer[iii++]='#';
00064a  b2c9              UXTB     r1,r1
;;;544        	    	int2lcd(dt__[0],'!',0);
00064c  5422              STRB     r2,[r4,r0]
00064e  f1010001          ADD      r0,r1,#1
000652  b2c0              UXTB     r0,r0
000654  5467              STRB     r7,[r4,r1]
000656  f1000101          ADD      r1,r0,#1
00065a  b2cd              UXTB     r5,r1
;;;545        		int2lcd(dt__[1],'@',0);
00065c  f8049000          STRB     r9,[r4,r0]
000660  f89d0000          LDRB     r0,[sp,#0]
000664  f04f0200          MOV      r2,#0
;;;546        		int2lcd(dt__[2],'#',0);    		     		
000668  f04f0121          MOV      r1,#0x21
00066c  f7fffffe          BL       int2lcd
000670  f89d0001          LDRB     r0,[sp,#1]
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
000674  2200              MOVS     r2,#0
000676  2140              MOVS     r1,#0x40              ;550
000678  f7fffffe          BL       int2lcd
00067c  5566              STRB     r6,[r4,r5]            ;550
00067e  e8bd83fe          POP      {r1-r9,pc}            ;550
;;;755    
                          ENDP

000682  0000              DCW      0x0000
                  |L2.1668|
                          DCD      ind_pointer
                  |L2.1672|
                          DCD      b_ind
                  |L2.1676|
                          DCD      a_ind
                  |L2.1680|
                          DCD      lcd_buffer
                  |L2.1684|
                          DCD      sm_mont

                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  int2lcd_m PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b570              PUSH     {r4-r6,lr}
;;;360    {
000002  460d              MOV      r5,r1
000004  4614              MOV      r4,r2
000006  2800              CMP      r0,#0
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  da04              BGE      |L3.20|
00000a  ea6f0000          MVN      r0,r0
00000e  f1000001          ADD      r0,r0,#1
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000012  b200              SXTH     r0,r0
                  |L3.20|
000014  f7fffffe          BL       bin2bcd_int
;;;367    tempii*=32;
000018  1c60              ADDS     r0,r4,#1
00001a  b2c0              UXTB     r0,r0
;;;368    tempii+=EVENT_LOG;
00001c  f7fffffe          BL       bcd2lcd_zero
000020  4628              MOV      r0,r5
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  f7fffffe          BL       find
000026  28ff              CMP      r0,#0xff
000028  d022              BEQ      |L3.112|
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002a  f04f0100          MOV      r1,#0
00002e  4d12              LDR      r5,|L3.120|
000030  4a12              LDR      r2,|L3.124|
                  |L3.50|
000032  42a1              CMP      r1,r4
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  d202              BCS      |L3.60|
000036  5c6b              LDRB     r3,[r5,r1]
000038  5413              STRB     r3,[r2,r0]
00003a  e011              B        |L3.96|
                  |L3.60|
00003c  d108              BNE      |L3.80|
;;;373    
;;;374    iii=find(simbol);
00003e  f04f032e          MOV      r3,#0x2e
000042  5413              STRB     r3,[r2,r0]
;;;375         
;;;376    if(dt[0]=='U')
000044  eb020600          ADD      r6,r2,r0
000048  5c6b              LDRB     r3,[r5,r1]            ;366
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
00004a  f8063c01          STRB     r3,[r6,#-1]
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
00004e  e007              B        |L3.96|
                  |L3.80|
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
000050  5c6b              LDRB     r3,[r5,r1]
000052  2b20              CMP      r3,#0x20
000054  d004              BEQ      |L3.96|
000056  b164              CBZ      r4,|L3.114|
000058  eb020600          ADD      r6,r2,r0              ;395
00005c  f8063c01          STRB     r3,[r6,#-1]           ;417
                  |L3.96|
000060  f1a00001          SUB      r0,r0,#1              ;391
000064  b2c0              UXTB     r0,r0                 ;385
000066  f1010101          ADD      r1,r1,#1              ;376
00006a  b2c9              UXTB     r1,r1                 ;376
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
00006c  2905              CMP      r1,#5
00006e  d3e0              BCC      |L3.50|
                  |L3.112|
000070  bd70              POP      {r4-r6,pc}            ;422
                  |L3.114|
000072  5413              STRB     r3,[r2,r0]            ;422
000074  e7f4              B        |L3.96|
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

000076  0000              DCW      0x0000
                  |L3.120|
                          DCD      ||dig||
                  |L3.124|
                          DCD      lcd_buffer

                          AREA ||area_number.4||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.4||, ||.text||
                  int2lcd_mm PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b5f0              PUSH     {r4-r7,lr}
;;;360    {
000002  460c              MOV      r4,r1
000004  4615              MOV      r5,r2
000006  2800              CMP      r0,#0
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  da02              BGE      |L4.16|
00000a  f1c00000          RSB      r0,r0,#0
00000e  b200              SXTH     r0,r0
                  |L4.16|
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  f04f062d          MOV      r6,#0x2d
000014  f7fffffe          BL       bin2bcd_int
;;;367    tempii*=32;
000018  1c68              ADDS     r0,r5,#1
00001a  b2c0              UXTB     r0,r0
;;;368    tempii+=EVENT_LOG;
00001c  f7fffffe          BL       bcd2lcd_zero
000020  4620              MOV      r0,r4
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  f7fffffe          BL       find
000026  f04f0100          MOV      r1,#0
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002a  4a1a              LDR      r2,|L4.148|
00002c  4c1a              LDR      r4,|L4.152|
                  |L4.46|
00002e  b97d              CBNZ     r5,|L4.80|
000030  5c53              LDRB     r3,[r2,r1]
000032  2b20              CMP      r3,#0x20
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  d00c              BEQ      |L4.80|
000036  1857              ADDS     r7,r2,r1
000038  787f              LDRB     r7,[r7,#1]
00003a  2f20              CMP      r7,#0x20
00003c  d106              BNE      |L4.76|
;;;373    
;;;374    iii=find(simbol);
00003e  2e2d              CMP      r6,#0x2d
000040  d104              BNE      |L4.76|
000042  eb040c00          ADD      r12,r4,r0
;;;375         
;;;376    if(dt[0]=='U')
000046  4637              MOV      r7,r6
000048  f80c7c01          STRB     r7,[r12,#-1]          ;366
                  |L4.76|
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
00004c  5423              STRB     r3,[r4,r0]
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
00004e  e017              B        |L4.128|
                  |L4.80|
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
000050  42a9              CMP      r1,r5
000052  d202              BCS      |L4.90|
000054  5c53              LDRB     r3,[r2,r1]            ;380
000056  5423              STRB     r3,[r4,r0]            ;380
000058  e012              B        |L4.128|
                  |L4.90|
00005a  d108              BNE      |L4.110|
00005c  f04f032e          MOV      r3,#0x2e              ;417
000060  5423              STRB     r3,[r4,r0]            ;391
000062  eb040700          ADD      r7,r4,r0              ;385
000066  5c53              LDRB     r3,[r2,r1]            ;376
000068  f8073c01          STRB     r3,[r7,#-1]           ;376
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
00006c  e008              B        |L4.128|
                  |L4.110|
00006e  5c53              LDRB     r3,[r2,r1]
000070  2b20              CMP      r3,#0x20              ;422
000072  d004              BEQ      |L4.126|
000074  eb040700          ADD      r7,r4,r0              ;422
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
000078  f8073c01          STRB     r3,[r7,#-1]
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
00007c  e000              B        |L4.128|
                  |L4.126|
00007e  2e2d              CMP      r6,#0x2d
                  |L4.128|
000080  f1a00001          SUB      r0,r0,#1
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
000084  b2c0              UXTB     r0,r0
000086  f1010101          ADD      r1,r1,#1
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
00008a  b2c9              UXTB     r1,r1
00008c  2905              CMP      r1,#5
00008e  d3ce              BCC      |L4.46|
000090  bdf0              POP      {r4-r7,pc}            ;378
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

000092  0000              DCW      0x0000
                  |L4.148|
                          DCD      ||dig||
                  |L4.152|
                          DCD      lcd_buffer

                          AREA ||area_number.5||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.5||, ||.text||
                  long2lcd_mmm PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b5fe              PUSH     {r1-r7,lr}
;;;360    {
000002  4603              MOV      r3,r0
000004  f04f072b          MOV      r7,#0x2b
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  2b00              CMP      r3,#0
00000a  da03              BGE      |L5.20|
00000c  f1c30300          RSB      r3,r3,#0
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  f04f072d          MOV      r7,#0x2d
                  |L5.20|
000014  f04f0000          MOV      r0,#0
;;;367    tempii*=32;
000018  f04f040a          MOV      r4,#0xa
;;;368    tempii+=EVENT_LOG;
00001c  466d              MOV      r5,sp
                  |L5.30|
00001e  461e              MOV      r6,r3
000020  fb93f3f4          SDIV     r3,r3,r4
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000024  fb046613          MLS      r6,r4,r3,r6
000028  542e              STRB     r6,[r5,r0]
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002a  f1000001          ADD      r0,r0,#1
00002e  b240              SXTB     r0,r0
000030  280a              CMP      r0,#0xa
000032  dbf4              BLT      |L5.30|
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  f04f0301          MOV      r3,#1
000038  f04f0400          MOV      r4,#0
00003c  f04f0009          MOV      r0,#9
;;;373    
;;;374    iii=find(simbol);
000040  f04f0620          MOV      r6,#0x20
                  |L5.68|
;;;375         
;;;376    if(dt[0]=='U')
000044  b143              CBZ      r3,|L5.88|
000046  f815c000          LDRB     r12,[r5,r0]
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
00004a  f1bc0f00          CMP      r12,#0
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
00004e  d103              BNE      |L5.88|
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
000050  4290              CMP      r0,r2
000052  dd01              BLE      |L5.88|
000054  542e              STRB     r6,[r5,r0]            ;380
000056  e008              B        |L5.106|
                  |L5.88|
000058  5c2b              LDRB     r3,[r5,r0]            ;395
00005a  f1030330          ADD      r3,r3,#0x30           ;395
00005e  542b              STRB     r3,[r5,r0]            ;380
000060  f04f0300          MOV      r3,#0                 ;391
000064  f1040401          ADD      r4,r4,#1              ;385
000068  b2e4              UXTB     r4,r4                 ;376
                  |L5.106|
00006a  f1a00001          SUB      r0,r0,#1              ;376
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
00006e  b240              SXTB     r0,r0
000070  2800              CMP      r0,#0                 ;422
000072  dae7              BGE      |L5.68|
000074  2f2d              CMP      r7,#0x2d              ;422
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
000076  d104              BNE      |L5.130|
000078  4620              MOV      r0,r4
00007a  f1040401          ADD      r4,r4,#1
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
00007e  b2e4              UXTB     r4,r4
000080  542f              STRB     r7,[r5,r0]
                  |L5.130|
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
000082  b18a              CBZ      r2,|L5.168|
000084  b260              SXTB     r0,r4
000086  e007              B        |L5.152|
                  |L5.136|
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
000088  eb050300          ADD      r3,r5,r0
00008c  f8133c01          LDRB     r3,[r3,#-1]
000090  542b              STRB     r3,[r5,r0]            ;378
000092  f1a00001          SUB      r0,r0,#1              ;378
000096  b240              SXTB     r0,r0                 ;378
                  |L5.152|
000098  4290              CMP      r0,r2                 ;378
00009a  dcf5              BGT      |L5.136|
00009c  f04f002e          MOV      r0,#0x2e              ;380
0000a0  54a8              STRB     r0,[r5,r2]            ;380
0000a2  f1040401          ADD      r4,r4,#1              ;380
0000a6  b2e4              UXTB     r4,r4                 ;381
                  |L5.168|
0000a8  4608              MOV      r0,r1                 ;381
0000aa  f7fffffe          BL       find
0000ae  f04f0100          MOV      r1,#0                 ;381
0000b2  4a06              LDR      r2,|L5.204|
0000b4  e006              B        |L5.196|
                  |L5.182|
0000b6  eba00601          SUB      r6,r0,r1              ;382
0000ba  5c6b              LDRB     r3,[r5,r1]            ;382
0000bc  5593              STRB     r3,[r2,r6]            ;382
0000be  f1010101          ADD      r1,r1,#1              ;382
0000c2  b249              SXTB     r1,r1                 ;382
                  |L5.196|
0000c4  42a1              CMP      r1,r4                 ;385
0000c6  dbf6              BLT      |L5.182|
0000c8  bdfe              POP      {r1-r7,pc}            ;385
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

0000ca  0000              DCW      0x0000
                  |L5.204|
                          DCD      lcd_buffer

                          AREA ||area_number.6||, CODE, READONLY, ALIGN=1

                          EXPORTAS ||area_number.6||, ||.text||
                  ptr_carry PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  4410              ADD      r0,r0,r2
;;;360    {
000002  2800              CMP      r0,#0
000004  da01              BGE      |L6.10|
000006  4408              ADD      r0,r0,r1
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  e003              B        |L6.18|
                  |L6.10|
00000a  4288              CMP      r0,r1
00000c  db01              BLT      |L6.18|
00000e  eba00001          SUB      r0,r0,r1
                  |L6.18|
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000012  b2c0              UXTB     r0,r0
000014  4770              BX       lr
;;;367    tempii*=32;
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP


                          AREA ||area_number.7||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.7||, ||.text||
                  event2ind PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  e92d5fff          PUSH     {r0-r12,lr}
;;;360    {
000004  4604              MOV      r4,r0
000006  460d              MOV      r5,r1
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  f44f6060          MOV      r0,#0xe00
00000c  f7fffffe          BL       lc640_read_int
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  4262              RSBS     r2,r4,#0
000012  2140              MOVS     r1,#0x40
000014  f7fffffe          BL       ptr_carry
;;;367    tempii*=32;
000018  ea4f1040          LSL      r0,r0,#5
;;;368    tempii+=EVENT_LOG;
00001c  f5006080          ADD      r0,r0,#0x400
000020  4604              MOV      r4,r0
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  a902              ADD      r1,sp,#8
000024  4620              MOV      r0,r4
000026  f7fffffe          BL       lc640_read_long_ptr
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002a  a901              ADD      r1,sp,#4
00002c  f1040008          ADD      r0,r4,#8
000030  f7fffffe          BL       lc640_read_long_ptr
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  4669              MOV      r1,sp
000036  f104000c          ADD      r0,r4,#0xc
00003a  f7fffffe          BL       lc640_read_long_ptr
;;;373    
;;;374    iii=find(simbol);
00003e  4628              MOV      r0,r5
000040  f7fffffe          BL       find
;;;375         
;;;376    if(dt[0]=='U')
000044  f89de008          LDRB     lr,[sp,#8]
000048  2240              MOVS     r2,#0x40              ;366
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
00004a  2130              MOVS     r1,#0x30
;;;394         	lcd_buffer[iii++]='!';
00004c  2321              MOVS     r3,#0x21
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
00004e  2423              MOVS     r4,#0x23
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
000050  f8df8404          LDR      r8,|L7.1112|
000054  f04f09c2          MOV      r9,#0xc2              ;380
000058  f04f0c3a          MOV      r12,#0x3a             ;395
00005c  2701              MOVS     r7,#1                 ;417
00005e  4eff              LDR      r6,|L7.1116|
000060  4dff              LDR      r5,|L7.1120|
000062  f04f0a20          MOV      r10,#0x20             ;385
000066  f1be0f55          CMP      lr,#0x55              ;376
00006a  d011              BEQ      |L7.144|
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
00006c  f04f0bc0          MOV      r11,#0xc0
000070  f1be0f50          CMP      lr,#0x50              ;422
000074  d07d              BEQ      |L7.370|
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
000076  f1be0f51          CMP      lr,#0x51
00007a  d07b              BEQ      |L7.372|
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
00007c  f1be0f53          CMP      lr,#0x53
000080  d079              BEQ      |L7.374|
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
000082  f1be0f42          CMP      lr,#0x42
000086  d077              BEQ      |L7.376|
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
000088  f1be0f56          CMP      lr,#0x56
00008c  d075              BEQ      |L7.378|
00008e  e382              B        |L7.1942|
                  |L7.144|
000090  f89db00a          LDRB     r11,[sp,#0xa]         ;378
000094  f1bb0f52          CMP      r11,#0x52             ;378
000098  d114              BNE      |L7.196|
00009a  f1000b01          ADD      r11,r0,#1             ;380
00009e  f00b0bff          AND      r11,r11,#0xff         ;380
0000a2  f8069000          STRB     r9,[r6,r0]            ;380
0000a6  f04f00ea          MOV      r0,#0xea              ;381
0000aa  f10b0901          ADD      r9,r11,#1             ;381
0000ae  f00909ff          AND      r9,r9,#0xff           ;381
0000b2  f806000b          STRB     r0,[r6,r11]           ;381
0000b6  f04f0beb          MOV      r11,#0xeb             ;382
0000ba  f1090001          ADD      r0,r9,#1              ;382
0000be  b2c0              UXTB     r0,r0                 ;382
0000c0  f806b009          STRB     r11,[r6,r9]           ;382
                  |L7.196|
0000c4  f1000901          ADD      r9,r0,#1              ;385
0000c8  f00909ff          AND      r9,r9,#0xff           ;385
0000cc  f806a000          STRB     r10,[r6,r0]           ;385
0000d0  f1090b01          ADD      r11,r9,#1             ;386
0000d4  f00b00ff          AND      r0,r11,#0xff          ;386
0000d8  f806a009          STRB     r10,[r6,r9]           ;386
0000dc  f1000901          ADD      r9,r0,#1              ;387
0000e0  f00909ff          AND      r9,r9,#0xff           ;387
0000e4  f806a000          STRB     r10,[r6,r0]           ;387
0000e8  f1090001          ADD      r0,r9,#1              ;388
0000ec  b2c0              UXTB     r0,r0                 ;388
0000ee  f806a009          STRB     r10,[r6,r9]           ;388
0000f2  f1000901          ADD      r9,r0,#1              ;389
0000f6  f00909ff          AND      r9,r9,#0xff           ;389
0000fa  f806a000          STRB     r10,[r6,r0]           ;389
0000fe  f89d0004          LDRB     r0,[sp,#4]            ;391
000102  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;391
000106  4558              CMP      r0,r11                ;391
000108  d148              BNE      |L7.412|
00010a  f89d0005          LDRB     r0,[sp,#5]            ;391
00010e  f895b038          LDRB     r11,[r5,#0x38]        ;391
000112  4558              CMP      r0,r11                ;391
000114  d142              BNE      |L7.412|
000116  f89d0006          LDRB     r0,[sp,#6]            ;391
00011a  f895502c          LDRB     r5,[r5,#0x2c]         ;391
00011e  42a8              CMP      r0,r5                 ;391
000120  d13c              BNE      |L7.412|
000122  f1090001          ADD      r0,r9,#1              ;393
000126  b2c0              UXTB     r0,r0                 ;393
000128  f8061009          STRB     r1,[r6,r9]            ;393
00012c  f1000501          ADD      r5,r0,#1              ;394
000130  b2ed              UXTB     r5,r5                 ;394
000132  5433              STRB     r3,[r6,r0]            ;394
000134  f1050001          ADD      r0,r5,#1              ;395
000138  b2c0              UXTB     r0,r0                 ;395
00013a  f806c005          STRB     r12,[r6,r5]           ;395
00013e  f1000301          ADD      r3,r0,#1              ;396
000142  b2db              UXTB     r3,r3                 ;396
000144  5431              STRB     r1,[r6,r0]            ;396
000146  461d              MOV      r5,r3                 ;397
000148  f1030301          ADD      r3,r3,#1              ;397
00014c  b2d8              UXTB     r0,r3                 ;397
00014e  5572              STRB     r2,[r6,r5]            ;397
000150  f1000201          ADD      r2,r0,#1              ;398
000154  b2d2              UXTB     r2,r2                 ;398
000156  f806c000          STRB     r12,[r6,r0]           ;398
00015a  f1020001          ADD      r0,r2,#1              ;399
00015e  b2c0              UXTB     r0,r0                 ;399
000160  54b1              STRB     r1,[r6,r2]            ;399
000162  5434              STRB     r4,[r6,r0]            ;400
000164  f89d0000          LDRB     r0,[sp,#0]            ;401
000168  f04f0200          MOV      r2,#0                 ;401
00016c  f04f0121          MOV      r1,#0x21              ;401
000170  e004              B        |L7.380|
                  |L7.370|
000172  e051              B        |L7.536|
                  |L7.372|
000174  e107              B        |L7.902|
                  |L7.374|
000176  e1c9              B        |L7.1292|
                  |L7.376|
000178  e2bb              B        |L7.1778|
                  |L7.378|
00017a  e302              B        |L7.1922|
                  |L7.380|
00017c  f7fffffe          BL       int2lcd
000180  f89d0001          LDRB     r0,[sp,#1]            ;402
000184  2200              MOVS     r2,#0                 ;402
000186  2140              MOVS     r1,#0x40              ;402
000188  f7fffffe          BL       int2lcd
00018c  f89d0002          LDRB     r0,[sp,#2]            ;403
000190  2200              MOVS     r2,#0                 ;403
000192  2123              MOVS     r1,#0x23              ;403
000194  f7fffffe          BL       int2lcd
                  |L7.408|
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
000198  e8bd9fff          POP      {r0-r12,pc}
                  |L7.412|
00019c  f1090001          ADD      r0,r9,#1              ;407
0001a0  b2c0              UXTB     r0,r0                 ;407
0001a2  f806a009          STRB     r10,[r6,r9]           ;407
0001a6  f1000501          ADD      r5,r0,#1              ;408
0001aa  b2ed              UXTB     r5,r5                 ;408
0001ac  5431              STRB     r1,[r6,r0]            ;408
0001ae  f1050001          ADD      r0,r5,#1              ;409
0001b2  b2c0              UXTB     r0,r0                 ;409
0001b4  5573              STRB     r3,[r6,r5]            ;409
0001b6  f1000301          ADD      r3,r0,#1              ;410
0001ba  b2db              UXTB     r3,r3                 ;410
0001bc  5432              STRB     r2,[r6,r0]            ;410
0001be  f1030001          ADD      r0,r3,#1              ;411
0001c2  b2c0              UXTB     r0,r0                 ;411
0001c4  f806a003          STRB     r10,[r6,r3]           ;411
0001c8  f1000201          ADD      r2,r0,#1              ;412
0001cc  b2d2              UXTB     r2,r2                 ;412
0001ce  f806a000          STRB     r10,[r6,r0]           ;412
0001d2  f1020001          ADD      r0,r2,#1              ;413
0001d6  b2c0              UXTB     r0,r0                 ;413
0001d8  54b1              STRB     r1,[r6,r2]            ;413
0001da  5434              STRB     r4,[r6,r0]            ;414
0001dc  f89d0006          LDRB     r0,[sp,#6]            ;415
0001e0  f04f0200          MOV      r2,#0                 ;415
0001e4  f04f0121          MOV      r1,#0x21              ;415
0001e8  f7fffffe          BL       int2lcd
0001ec  f89d0004          LDRB     r0,[sp,#4]            ;416
0001f0  2200              MOVS     r2,#0                 ;416
0001f2  2123              MOVS     r1,#0x23              ;416
0001f4  f7fffffe          BL       int2lcd
0001f8  f89d0005          LDRB     r0,[sp,#5]            ;417
0001fc  1e40              SUBS     r0,r0,#1              ;417
0001fe  280c              CMP      r0,#0xc               ;417
000200  d301              BCC      |L7.518|
000202  f88d7005          STRB     r7,[sp,#5]            ;417
                  |L7.518|
000206  f89d0005          LDRB     r0,[sp,#5]            ;418
00020a  2200              MOVS     r2,#0                 ;418
00020c  eb080080          ADD      r0,r8,r0,LSL #2       ;418
000210  2140              MOVS     r1,#0x40              ;418
000212  f7fffffe          BL       sub_bgnd
000216  e7bf              B        |L7.408|
                  |L7.536|
000218  f1000e01          ADD      lr,r0,#1              ;424
00021c  f00e0eff          AND      lr,lr,#0xff           ;424
000220  f806b000          STRB     r11,[r6,r0]           ;424
000224  f10e0001          ADD      r0,lr,#1              ;425
000228  b2c0              UXTB     r0,r0                 ;425
00022a  f806900e          STRB     r9,[r6,lr]            ;425
00022e  f04f0b2e          MOV      r11,#0x2e             ;426
000232  f1000901          ADD      r9,r0,#1              ;426
000236  f00909ff          AND      r9,r9,#0xff           ;426
00023a  f806b000          STRB     r11,[r6,r0]           ;426
00023e  f04f00cf          MOV      r0,#0xcf              ;427
000242  f1090b01          ADD      r11,r9,#1             ;427
000246  f00b0bff          AND      r11,r11,#0xff         ;427
00024a  f8060009          STRB     r0,[r6,r9]            ;427
00024e  f04f00d1          MOV      r0,#0xd1              ;428
000252  f10b0901          ADD      r9,r11,#1             ;428
000256  f00909ff          AND      r9,r9,#0xff           ;428
00025a  f806000b          STRB     r0,[r6,r11]           ;428
00025e  f1090001          ADD      r0,r9,#1              ;429
000262  b2c0              UXTB     r0,r0                 ;429
000264  f806a009          STRB     r10,[r6,r9]           ;429
000268  f1000901          ADD      r9,r0,#1              ;430
00026c  f00909ff          AND      r9,r9,#0xff           ;430
000270  f806a000          STRB     r10,[r6,r0]           ;430
000274  f1090001          ADD      r0,r9,#1              ;431
000278  b2c0              UXTB     r0,r0                 ;431
00027a  f806a009          STRB     r10,[r6,r9]           ;431
00027e  f89d9004          LDRB     r9,[sp,#4]            ;433
000282  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;433
000286  45d9              CMP      r9,r11                ;433
000288  d13f              BNE      |L7.778|
00028a  f89d9005          LDRB     r9,[sp,#5]            ;433
00028e  f895b038          LDRB     r11,[r5,#0x38]        ;433
000292  45d9              CMP      r9,r11                ;433
000294  d139              BNE      |L7.778|
000296  f89d9006          LDRB     r9,[sp,#6]            ;433
00029a  f895502c          LDRB     r5,[r5,#0x2c]         ;433
00029e  45a9              CMP      r9,r5                 ;433
0002a0  d133              BNE      |L7.778|
0002a2  f1000501          ADD      r5,r0,#1              ;435
0002a6  b2ed              UXTB     r5,r5                 ;435
0002a8  5431              STRB     r1,[r6,r0]            ;435
0002aa  f1050001          ADD      r0,r5,#1              ;436
0002ae  b2c0              UXTB     r0,r0                 ;436
0002b0  5573              STRB     r3,[r6,r5]            ;436
0002b2  f1000301          ADD      r3,r0,#1              ;437
0002b6  b2db              UXTB     r3,r3                 ;437
0002b8  f806c000          STRB     r12,[r6,r0]           ;437
0002bc  f1030001          ADD      r0,r3,#1              ;438
0002c0  b2c0              UXTB     r0,r0                 ;438
0002c2  54f1              STRB     r1,[r6,r3]            ;438
0002c4  f1000301          ADD      r3,r0,#1              ;439
0002c8  b2db              UXTB     r3,r3                 ;439
0002ca  5432              STRB     r2,[r6,r0]            ;439
0002cc  f1030001          ADD      r0,r3,#1              ;440
0002d0  b2c0              UXTB     r0,r0                 ;440
0002d2  f806c003          STRB     r12,[r6,r3]           ;440
0002d6  f1000201          ADD      r2,r0,#1              ;441
0002da  b2d2              UXTB     r2,r2                 ;441
0002dc  5431              STRB     r1,[r6,r0]            ;441
0002de  54b4              STRB     r4,[r6,r2]            ;442
0002e0  f89d0000          LDRB     r0,[sp,#0]            ;443
0002e4  f04f0200          MOV      r2,#0                 ;443
0002e8  f04f0121          MOV      r1,#0x21              ;443
0002ec  f7fffffe          BL       int2lcd
0002f0  f89d0001          LDRB     r0,[sp,#1]            ;444
0002f4  2200              MOVS     r2,#0                 ;444
0002f6  2140              MOVS     r1,#0x40              ;444
0002f8  f7fffffe          BL       int2lcd
0002fc  f89d0002          LDRB     r0,[sp,#2]            ;445
000300  2200              MOVS     r2,#0                 ;445
000302  2123              MOVS     r1,#0x23              ;445
000304  f7fffffe          BL       int2lcd
                  |L7.776|
000308  e746              B        |L7.408|
                  |L7.778|
00030a  f1000501          ADD      r5,r0,#1              ;449
00030e  b2ed              UXTB     r5,r5                 ;449
000310  f806a000          STRB     r10,[r6,r0]           ;449
000314  f1050001          ADD      r0,r5,#1              ;450
000318  b2c0              UXTB     r0,r0                 ;450
00031a  5571              STRB     r1,[r6,r5]            ;450
00031c  f1000501          ADD      r5,r0,#1              ;451
000320  b2ed              UXTB     r5,r5                 ;451
000322  5433              STRB     r3,[r6,r0]            ;451
000324  f1050001          ADD      r0,r5,#1              ;452
000328  b2c0              UXTB     r0,r0                 ;452
00032a  5572              STRB     r2,[r6,r5]            ;452
00032c  f1000201          ADD      r2,r0,#1              ;453
000330  b2d2              UXTB     r2,r2                 ;453
000332  f806a000          STRB     r10,[r6,r0]           ;453
000336  f1020001          ADD      r0,r2,#1              ;454
00033a  b2c0              UXTB     r0,r0                 ;454
00033c  f806a002          STRB     r10,[r6,r2]           ;454
000340  f1000201          ADD      r2,r0,#1              ;455
000344  b2d2              UXTB     r2,r2                 ;455
000346  5431              STRB     r1,[r6,r0]            ;455
000348  54b4              STRB     r4,[r6,r2]            ;456
00034a  f89d0006          LDRB     r0,[sp,#6]            ;457
00034e  f04f0200          MOV      r2,#0                 ;457
000352  f04f0121          MOV      r1,#0x21              ;457
000356  f7fffffe          BL       int2lcd
00035a  f89d0004          LDRB     r0,[sp,#4]            ;458
00035e  2200              MOVS     r2,#0                 ;458
000360  2123              MOVS     r1,#0x23              ;458
000362  f7fffffe          BL       int2lcd
000366  f89d0005          LDRB     r0,[sp,#5]            ;459
00036a  1e40              SUBS     r0,r0,#1              ;459
00036c  280c              CMP      r0,#0xc               ;459
00036e  d301              BCC      |L7.884|
000370  f88d7005          STRB     r7,[sp,#5]            ;459
                  |L7.884|
000374  f89d0005          LDRB     r0,[sp,#5]            ;460
000378  2200              MOVS     r2,#0                 ;460
00037a  eb080080          ADD      r0,r8,r0,LSL #2       ;460
00037e  2140              MOVS     r1,#0x40              ;460
000380  f7fffffe          BL       sub_bgnd
000384  e708              B        |L7.408|
                  |L7.902|
000386  f1000e01          ADD      lr,r0,#1              ;466
00038a  f00e0eff          AND      lr,lr,#0xff           ;466
00038e  f806b000          STRB     r11,[r6,r0]           ;466
000392  f10e0001          ADD      r0,lr,#1              ;467
000396  b2c0              UXTB     r0,r0                 ;467
000398  f806900e          STRB     r9,[r6,lr]            ;467
00039c  f04f092e          MOV      r9,#0x2e              ;468
0003a0  f1000b01          ADD      r11,r0,#1             ;468
0003a4  f00b0bff          AND      r11,r11,#0xff         ;468
0003a8  f8069000          STRB     r9,[r6,r0]            ;468
0003ac  f04f0055          MOV      r0,#0x55              ;469
0003b0  f10b0901          ADD      r9,r11,#1             ;469
0003b4  f00909ff          AND      r9,r9,#0xff           ;469
0003b8  f806000b          STRB     r0,[r6,r11]           ;469
0003bc  f04f00e2          MOV      r0,#0xe2              ;470
0003c0  f1090b01          ADD      r11,r9,#1             ;470
0003c4  f00b0bff          AND      r11,r11,#0xff         ;470
0003c8  f8060009          STRB     r0,[r6,r9]            ;470
0003cc  f04f00fb          MOV      r0,#0xfb              ;471
0003d0  f10b0901          ADD      r9,r11,#1             ;471
0003d4  f00909ff          AND      r9,r9,#0xff           ;471
0003d8  f806000b          STRB     r0,[r6,r11]           ;471
0003dc  f04f00f5          MOV      r0,#0xf5              ;472
0003e0  f1090b01          ADD      r11,r9,#1             ;472
0003e4  f00b0bff          AND      r11,r11,#0xff         ;472
0003e8  f8060009          STRB     r0,[r6,r9]            ;472
0003ec  f10b0001          ADD      r0,r11,#1             ;473
0003f0  b2c0              UXTB     r0,r0                 ;473
0003f2  f806a00b          STRB     r10,[r6,r11]          ;473
0003f6  f89d9004          LDRB     r9,[sp,#4]            ;475
0003fa  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;475
0003fe  45d9              CMP      r9,r11                ;475
000400  d146              BNE      |L7.1168|
000402  f89d9005          LDRB     r9,[sp,#5]            ;475
000406  f895b038          LDRB     r11,[r5,#0x38]        ;475
00040a  45d9              CMP      r9,r11                ;475
00040c  d140              BNE      |L7.1168|
00040e  f89d9006          LDRB     r9,[sp,#6]            ;475
000412  f895502c          LDRB     r5,[r5,#0x2c]         ;475
000416  45a9              CMP      r9,r5                 ;475
000418  d13a              BNE      |L7.1168|
00041a  f1000501          ADD      r5,r0,#1              ;477
00041e  b2ed              UXTB     r5,r5                 ;477
000420  5431              STRB     r1,[r6,r0]            ;477
000422  f1050001          ADD      r0,r5,#1              ;478
000426  b2c0              UXTB     r0,r0                 ;478
000428  5573              STRB     r3,[r6,r5]            ;478
00042a  f1000301          ADD      r3,r0,#1              ;479
00042e  b2db              UXTB     r3,r3                 ;479
000430  f806c000          STRB     r12,[r6,r0]           ;479
000434  f1030001          ADD      r0,r3,#1              ;480
000438  b2c0              UXTB     r0,r0                 ;480
00043a  54f1              STRB     r1,[r6,r3]            ;480
00043c  f1000301          ADD      r3,r0,#1              ;481
000440  b2db              UXTB     r3,r3                 ;481
000442  5432              STRB     r2,[r6,r0]            ;481
000444  f1030001          ADD      r0,r3,#1              ;482
000448  b2c0              UXTB     r0,r0                 ;482
00044a  f806c003          STRB     r12,[r6,r3]           ;482
00044e  f1000201          ADD      r2,r0,#1              ;483
000452  b2d2              UXTB     r2,r2                 ;483
000454  5431              STRB     r1,[r6,r0]            ;483
000456  e005              B        |L7.1124|
                  |L7.1112|
                          DCD      sm_mont
                  |L7.1116|
                          DCD      lcd_buffer
                  |L7.1120|
                          DCD      0x40024000
                  |L7.1124|
000464  54b4              STRB     r4,[r6,r2]            ;484
000466  f89d0000          LDRB     r0,[sp,#0]            ;485
00046a  f04f0200          MOV      r2,#0                 ;485
00046e  f04f0121          MOV      r1,#0x21              ;485
000472  f7fffffe          BL       int2lcd
000476  f89d0001          LDRB     r0,[sp,#1]            ;486
00047a  2200              MOVS     r2,#0                 ;486
00047c  2140              MOVS     r1,#0x40              ;486
00047e  f7fffffe          BL       int2lcd
000482  f89d0002          LDRB     r0,[sp,#2]            ;487
000486  2200              MOVS     r2,#0                 ;487
000488  2123              MOVS     r1,#0x23              ;487
00048a  f7fffffe          BL       int2lcd
                  |L7.1166|
00048e  e683              B        |L7.408|
                  |L7.1168|
000490  f1000501          ADD      r5,r0,#1              ;491
000494  b2ed              UXTB     r5,r5                 ;491
000496  f806a000          STRB     r10,[r6,r0]           ;491
00049a  f1050001          ADD      r0,r5,#1              ;492
00049e  b2c0              UXTB     r0,r0                 ;492
0004a0  5571              STRB     r1,[r6,r5]            ;492
0004a2  f1000501          ADD      r5,r0,#1              ;493
0004a6  b2ed              UXTB     r5,r5                 ;493
0004a8  5433              STRB     r3,[r6,r0]            ;493
0004aa  f1050001          ADD      r0,r5,#1              ;494
0004ae  b2c0              UXTB     r0,r0                 ;494
0004b0  5572              STRB     r2,[r6,r5]            ;494
0004b2  f1000201          ADD      r2,r0,#1              ;495
0004b6  b2d2              UXTB     r2,r2                 ;495
0004b8  f806a000          STRB     r10,[r6,r0]           ;495
0004bc  f1020001          ADD      r0,r2,#1              ;496
0004c0  b2c0              UXTB     r0,r0                 ;496
0004c2  f806a002          STRB     r10,[r6,r2]           ;496
0004c6  f1000201          ADD      r2,r0,#1              ;497
0004ca  b2d2              UXTB     r2,r2                 ;497
0004cc  5431              STRB     r1,[r6,r0]            ;497
0004ce  54b4              STRB     r4,[r6,r2]            ;498
0004d0  f89d0006          LDRB     r0,[sp,#6]            ;499
0004d4  f04f0200          MOV      r2,#0                 ;499
0004d8  f04f0121          MOV      r1,#0x21              ;499
0004dc  f7fffffe          BL       int2lcd
0004e0  f89d0004          LDRB     r0,[sp,#4]            ;500
0004e4  2200              MOVS     r2,#0                 ;500
0004e6  2123              MOVS     r1,#0x23              ;500
0004e8  f7fffffe          BL       int2lcd
0004ec  f89d0005          LDRB     r0,[sp,#5]            ;501
0004f0  1e40              SUBS     r0,r0,#1              ;501
0004f2  280c              CMP      r0,#0xc               ;501
0004f4  d301              BCC      |L7.1274|
0004f6  f88d7005          STRB     r7,[sp,#5]            ;501
                  |L7.1274|
0004fa  f89d0005          LDRB     r0,[sp,#5]            ;502
0004fe  2200              MOVS     r2,#0                 ;502
000500  eb080080          ADD      r0,r8,r0,LSL #2       ;502
000504  2140              MOVS     r1,#0x40              ;502
000506  f7fffffe          BL       sub_bgnd
                  |L7.1290|
00050a  e645              B        |L7.408|
                  |L7.1292|
00050c  f1000e01          ADD      lr,r0,#1              ;510
000510  f00e0eff          AND      lr,lr,#0xff           ;510
000514  f806b000          STRB     r11,[r6,r0]           ;510
000518  f10e0001          ADD      r0,lr,#1              ;511
00051c  b2c0              UXTB     r0,r0                 ;511
00051e  f806900e          STRB     r9,[r6,lr]            ;511
000522  f04f0b2e          MOV      r11,#0x2e             ;512
000526  f1000901          ADD      r9,r0,#1              ;512
00052a  f00909ff          AND      r9,r9,#0xff           ;512
00052e  f806b000          STRB     r11,[r6,r0]           ;512
000532  f04f00c1          MOV      r0,#0xc1              ;513
000536  f1090b01          ADD      r11,r9,#1             ;513
00053a  f00b0bff          AND      r11,r11,#0xff         ;513
00053e  f8060009          STRB     r0,[r6,r9]            ;513
000542  f04f09cf          MOV      r9,#0xcf              ;514
000546  f10b0001          ADD      r0,r11,#1             ;514
00054a  b2c0              UXTB     r0,r0                 ;514
00054c  f806900b          STRB     r9,[r6,r11]           ;514
000550  f04f09d1          MOV      r9,#0xd1              ;515
000554  f1000b01          ADD      r11,r0,#1             ;515
000558  f00b0bff          AND      r11,r11,#0xff         ;515
00055c  f8069000          STRB     r9,[r6,r0]            ;515
000560  f89d9009          LDRB     r9,[sp,#9]            ;516
000564  f1b90f09          CMP      r9,#9                 ;516
000568  d20d              BCS      |L7.1414|
00056a  f1090931          ADD      r9,r9,#0x31           ;518
00056e  f10b0001          ADD      r0,r11,#1             ;518
000572  b2c0              UXTB     r0,r0                 ;518
000574  f806900b          STRB     r9,[r6,r11]           ;518
000578  f1000901          ADD      r9,r0,#1              ;519
00057c  f00909ff          AND      r9,r9,#0xff           ;519
000580  f806a000          STRB     r10,[r6,r0]           ;519
000584  e02c              B        |L7.1504|
                  |L7.1414|
000586  f1a90009          SUB      r0,r9,#9              ;521
00058a  285a              CMP      r0,#0x5a              ;521
00058c  d21d              BCS      |L7.1482|
00058e  f1090901          ADD      r9,r9,#1              ;523
000592  f04f000a          MOV      r0,#0xa               ;523
000596  fbb9fef0          UDIV     lr,r9,r0              ;523
00059a  f8cde00c          STR      lr,[sp,#0xc]          ;523
00059e  f10e0e30          ADD      lr,lr,#0x30           ;523
0005a2  f10b0001          ADD      r0,r11,#1             ;523
0005a6  b2c0              UXTB     r0,r0                 ;523
0005a8  f806e00b          STRB     lr,[r6,r11]           ;523
0005ac  f8dde00c          LDR      lr,[sp,#0xc]          ;524
0005b0  f04f0b0a          MOV      r11,#0xa              ;524
0005b4  fb0b9b1e          MLS      r11,r11,lr,r9         ;524
0005b8  f10b0b30          ADD      r11,r11,#0x30         ;524
0005bc  f1000901          ADD      r9,r0,#1              ;524
0005c0  f00909ff          AND      r9,r9,#0xff           ;524
0005c4  f806b000          STRB     r11,[r6,r0]           ;524
0005c8  e00a              B        |L7.1504|
                  |L7.1482|
0005ca  f10b0001          ADD      r0,r11,#1             ;528
0005ce  b2c0              UXTB     r0,r0                 ;528
0005d0  f806a00b          STRB     r10,[r6,r11]          ;528
0005d4  f1000901          ADD      r9,r0,#1              ;529
0005d8  f00909ff          AND      r9,r9,#0xff           ;529
0005dc  f806a000          STRB     r10,[r6,r0]           ;529
                  |L7.1504|
0005e0  f1090001          ADD      r0,r9,#1              ;531
0005e4  b2c0              UXTB     r0,r0                 ;531
0005e6  f806a009          STRB     r10,[r6,r9]           ;531
0005ea  f89d9004          LDRB     r9,[sp,#4]            ;534
0005ee  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;534
0005f2  45d9              CMP      r9,r11                ;534
0005f4  d13f              BNE      |L7.1654|
0005f6  f89d9005          LDRB     r9,[sp,#5]            ;534
0005fa  f895b038          LDRB     r11,[r5,#0x38]        ;534
0005fe  45d9              CMP      r9,r11                ;534
000600  d139              BNE      |L7.1654|
000602  f89d9006          LDRB     r9,[sp,#6]            ;534
000606  f895502c          LDRB     r5,[r5,#0x2c]         ;534
00060a  45a9              CMP      r9,r5                 ;534
00060c  d133              BNE      |L7.1654|
00060e  f1000501          ADD      r5,r0,#1              ;536
000612  b2ed              UXTB     r5,r5                 ;536
000614  5431              STRB     r1,[r6,r0]            ;536
000616  f1050001          ADD      r0,r5,#1              ;537
00061a  b2c0              UXTB     r0,r0                 ;537
00061c  5573              STRB     r3,[r6,r5]            ;537
00061e  f1000301          ADD      r3,r0,#1              ;538
000622  b2db              UXTB     r3,r3                 ;538
000624  f806c000          STRB     r12,[r6,r0]           ;538
000628  f1030001          ADD      r0,r3,#1              ;539
00062c  b2c0              UXTB     r0,r0                 ;539
00062e  54f1              STRB     r1,[r6,r3]            ;539
000630  f1000301          ADD      r3,r0,#1              ;540
000634  b2db              UXTB     r3,r3                 ;540
000636  5432              STRB     r2,[r6,r0]            ;540
000638  f1030001          ADD      r0,r3,#1              ;541
00063c  b2c0              UXTB     r0,r0                 ;541
00063e  f806c003          STRB     r12,[r6,r3]           ;541
000642  f1000201          ADD      r2,r0,#1              ;542
000646  b2d2              UXTB     r2,r2                 ;542
000648  5431              STRB     r1,[r6,r0]            ;542
00064a  54b4              STRB     r4,[r6,r2]            ;543
00064c  f89d0000          LDRB     r0,[sp,#0]            ;544
000650  f04f0200          MOV      r2,#0                 ;544
000654  f04f0121          MOV      r1,#0x21              ;544
000658  f7fffffe          BL       int2lcd
00065c  f89d0001          LDRB     r0,[sp,#1]            ;545
000660  2200              MOVS     r2,#0                 ;545
000662  2140              MOVS     r1,#0x40              ;545
000664  f7fffffe          BL       int2lcd
000668  f89d0002          LDRB     r0,[sp,#2]            ;546
00066c  2200              MOVS     r2,#0                 ;546
00066e  2123              MOVS     r1,#0x23              ;546
000670  f7fffffe          BL       int2lcd
                  |L7.1652|
000674  e590              B        |L7.408|
                  |L7.1654|
000676  f1000501          ADD      r5,r0,#1              ;550
00067a  b2ed              UXTB     r5,r5                 ;550
00067c  f806a000          STRB     r10,[r6,r0]           ;550
000680  f1050001          ADD      r0,r5,#1              ;551
000684  b2c0              UXTB     r0,r0                 ;551
000686  5571              STRB     r1,[r6,r5]            ;551
000688  f1000501          ADD      r5,r0,#1              ;552
00068c  b2ed              UXTB     r5,r5                 ;552
00068e  5433              STRB     r3,[r6,r0]            ;552
000690  f1050001          ADD      r0,r5,#1              ;553
000694  b2c0              UXTB     r0,r0                 ;553
000696  5572              STRB     r2,[r6,r5]            ;553
000698  f1000201          ADD      r2,r0,#1              ;554
00069c  b2d2              UXTB     r2,r2                 ;554
00069e  f806a000          STRB     r10,[r6,r0]           ;554
0006a2  f1020001          ADD      r0,r2,#1              ;555
0006a6  b2c0              UXTB     r0,r0                 ;555
0006a8  f806a002          STRB     r10,[r6,r2]           ;555
0006ac  f1000201          ADD      r2,r0,#1              ;556
0006b0  b2d2              UXTB     r2,r2                 ;556
0006b2  5431              STRB     r1,[r6,r0]            ;556
0006b4  54b4              STRB     r4,[r6,r2]            ;557
0006b6  f89d0006          LDRB     r0,[sp,#6]            ;558
0006ba  f04f0200          MOV      r2,#0                 ;558
0006be  f04f0121          MOV      r1,#0x21              ;558
0006c2  f7fffffe          BL       int2lcd
0006c6  f89d0004          LDRB     r0,[sp,#4]            ;559
0006ca  2200              MOVS     r2,#0                 ;559
0006cc  2123              MOVS     r1,#0x23              ;559
0006ce  f7fffffe          BL       int2lcd
0006d2  f89d0005          LDRB     r0,[sp,#5]            ;560
0006d6  1e40              SUBS     r0,r0,#1              ;560
0006d8  280c              CMP      r0,#0xc               ;560
0006da  d301              BCC      |L7.1760|
0006dc  f88d7005          STRB     r7,[sp,#5]            ;560
                  |L7.1760|
0006e0  f89d0005          LDRB     r0,[sp,#5]            ;561
0006e4  2200              MOVS     r2,#0                 ;561
0006e6  eb080080          ADD      r0,r8,r0,LSL #2       ;561
0006ea  2140              MOVS     r1,#0x40              ;561
0006ec  f7fffffe          BL       sub_bgnd
0006f0  e552              B        |L7.408|
                  |L7.1778|
0006f2  f04f02c1          MOV      r2,#0xc1              ;567
0006f6  f1000101          ADD      r1,r0,#1              ;567
0006fa  b2c9              UXTB     r1,r1                 ;567
0006fc  5432              STRB     r2,[r6,r0]            ;567
0006fe  f04f03e0          MOV      r3,#0xe0              ;568
000702  f1010001          ADD      r0,r1,#1              ;568
000706  b2c2              UXTB     r2,r0                 ;568
000708  5473              STRB     r3,[r6,r1]            ;568
00070a  f04f01f2          MOV      r1,#0xf2              ;569
00070e  f1020001          ADD      r0,r2,#1              ;569
000712  b2c0              UXTB     r0,r0                 ;569
000714  54b1              STRB     r1,[r6,r2]            ;569
000716  f89d1009          LDRB     r1,[sp,#9]            ;570
00071a  2909              CMP      r1,#9                 ;570
00071c  d20b              BCS      |L7.1846|
00071e  f1010131          ADD      r1,r1,#0x31           ;572
000722  f1000201          ADD      r2,r0,#1              ;572
000726  b2d2              UXTB     r2,r2                 ;572
000728  5431              STRB     r1,[r6,r0]            ;572
00072a  f1020001          ADD      r0,r2,#1              ;573
00072e  b2c0              UXTB     r0,r0                 ;573
000730  f806a002          STRB     r10,[r6,r2]           ;573
000734  e022              B        |L7.1916|
                  |L7.1846|
000736  f1a10209          SUB      r2,r1,#9              ;575
00073a  2a5a              CMP      r2,#0x5a              ;575
00073c  d214              BCS      |L7.1896|
00073e  f1010101          ADD      r1,r1,#1              ;577
000742  f04f050a          MOV      r5,#0xa               ;577
000746  fbb1f3f5          UDIV     r3,r1,r5              ;577
00074a  f1030430          ADD      r4,r3,#0x30           ;577
00074e  f1000201          ADD      r2,r0,#1              ;577
000752  b2d2              UXTB     r2,r2                 ;577
000754  5434              STRB     r4,[r6,r0]            ;577
000756  fb051113          MLS      r1,r5,r3,r1           ;578
00075a  f1010130          ADD      r1,r1,#0x30           ;578
00075e  f1020001          ADD      r0,r2,#1              ;578
000762  b2c0              UXTB     r0,r0                 ;578
000764  54b1              STRB     r1,[r6,r2]            ;578
000766  e009              B        |L7.1916|
                  |L7.1896|
000768  f1000101          ADD      r1,r0,#1              ;582
00076c  b2c9              UXTB     r1,r1                 ;582
00076e  f806a000          STRB     r10,[r6,r0]           ;582
000772  f1010001          ADD      r0,r1,#1              ;583
000776  b2c0              UXTB     r0,r0                 ;583
000778  f806a001          STRB     r10,[r6,r1]           ;583
                  |L7.1916|
00077c  f806a000          STRB     r10,[r6,r0]           ;585
000780  e50a              B        |L7.408|
                  |L7.1922|
000782  f89d9009          LDRB     r9,[sp,#9]            ;588
000786  f1b90f49          CMP      r9,#0x49              ;588
00078a  d104              BNE      |L7.1942|
00078c  f89d900a          LDRB     r9,[sp,#0xa]          ;588
000790  f1b90f4e          CMP      r9,#0x4e              ;588
000794  d003              BEQ      |L7.1950|
                  |L7.1942|
000796  f1be0f56          CMP      lr,#0x56              ;630
00079a  d07e              BEQ      |L7.2202|
00079c  e0cb              B        |L7.2358|
                  |L7.1950|
00079e  f1000901          ADD      r9,r0,#1              ;590
0007a2  f00909ff          AND      r9,r9,#0xff           ;590
0007a6  f806b000          STRB     r11,[r6,r0]           ;590
0007aa  f04f00e2          MOV      r0,#0xe2              ;591
0007ae  f1090e01          ADD      lr,r9,#1              ;591
0007b2  f00e0bff          AND      r11,lr,#0xff          ;591
0007b6  f8060009          STRB     r0,[r6,r9]            ;591
0007ba  f04f0e2e          MOV      lr,#0x2e              ;592
0007be  f10b0901          ADD      r9,r11,#1             ;592
0007c2  f00909ff          AND      r9,r9,#0xff           ;592
0007c6  f806e00b          STRB     lr,[r6,r11]           ;592
0007ca  f04f0e55          MOV      lr,#0x55              ;593
0007ce  f1090b01          ADD      r11,r9,#1             ;593
0007d2  f00b0bff          AND      r11,r11,#0xff         ;593
0007d6  f806e009          STRB     lr,[r6,r9]            ;593
0007da  f10b0901          ADD      r9,r11,#1             ;594
0007de  f0090eff          AND      lr,r9,#0xff           ;594
0007e2  f806000b          STRB     r0,[r6,r11]           ;594
0007e6  f04f0bf5          MOV      r11,#0xf5             ;595
0007ea  f10e0001          ADD      r0,lr,#1              ;595
0007ee  f00009ff          AND      r9,r0,#0xff           ;595
0007f2  f806b00e          STRB     r11,[r6,lr]           ;595
0007f6  f1090001          ADD      r0,r9,#1              ;596
0007fa  b2c0              UXTB     r0,r0                 ;596
0007fc  f806a009          STRB     r10,[r6,r9]           ;596
000800  f1000901          ADD      r9,r0,#1              ;597
000804  f00909ff          AND      r9,r9,#0xff           ;597
000808  f806a000          STRB     r10,[r6,r0]           ;597
00080c  f89d0004          LDRB     r0,[sp,#4]            ;599
000810  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;599
000814  4558              CMP      r0,r11                ;599
000816  d141              BNE      |L7.2204|
000818  f89d0005          LDRB     r0,[sp,#5]            ;599
00081c  f895b038          LDRB     r11,[r5,#0x38]        ;599
000820  4558              CMP      r0,r11                ;599
000822  d13b              BNE      |L7.2204|
000824  f89d0006          LDRB     r0,[sp,#6]            ;599
000828  f895502c          LDRB     r5,[r5,#0x2c]         ;599
00082c  42a8              CMP      r0,r5                 ;599
00082e  d135              BNE      |L7.2204|
000830  f1090001          ADD      r0,r9,#1              ;601
000834  b2c0              UXTB     r0,r0                 ;601
000836  f8061009          STRB     r1,[r6,r9]            ;601
00083a  f1000501          ADD      r5,r0,#1              ;602
00083e  b2ed              UXTB     r5,r5                 ;602
000840  5433              STRB     r3,[r6,r0]            ;602
000842  f1050001          ADD      r0,r5,#1              ;603
000846  b2c0              UXTB     r0,r0                 ;603
000848  f806c005          STRB     r12,[r6,r5]           ;603
00084c  f1000301          ADD      r3,r0,#1              ;604
000850  b2db              UXTB     r3,r3                 ;604
000852  5431              STRB     r1,[r6,r0]            ;604
000854  f1030001          ADD      r0,r3,#1              ;605
000858  b2c0              UXTB     r0,r0                 ;605
00085a  54f2              STRB     r2,[r6,r3]            ;605
00085c  f1000201          ADD      r2,r0,#1              ;606
000860  b2d2              UXTB     r2,r2                 ;606
000862  f806c000          STRB     r12,[r6,r0]           ;606
000866  f1020001          ADD      r0,r2,#1              ;607
00086a  b2c0              UXTB     r0,r0                 ;607
00086c  54b1              STRB     r1,[r6,r2]            ;607
00086e  5434              STRB     r4,[r6,r0]            ;608
000870  f89d0000          LDRB     r0,[sp,#0]            ;609
000874  f04f0200          MOV      r2,#0                 ;609
000878  f04f0121          MOV      r1,#0x21              ;609
00087c  f7fffffe          BL       int2lcd
000880  f89d0001          LDRB     r0,[sp,#1]            ;610
000884  2200              MOVS     r2,#0                 ;610
000886  2140              MOVS     r1,#0x40              ;610
000888  f7fffffe          BL       int2lcd
00088c  f89d0002          LDRB     r0,[sp,#2]            ;611
000890  2200              MOVS     r2,#0                 ;611
000892  2123              MOVS     r1,#0x23              ;611
000894  f7fffffe          BL       int2lcd
000898  e47e              B        |L7.408|
                  |L7.2202|
00089a  e03d              B        |L7.2328|
                  |L7.2204|
00089c  f1090001          ADD      r0,r9,#1              ;615
0008a0  b2c0              UXTB     r0,r0                 ;615
0008a2  f806a009          STRB     r10,[r6,r9]           ;615
0008a6  f1000501          ADD      r5,r0,#1              ;616
0008aa  b2ed              UXTB     r5,r5                 ;616
0008ac  5431              STRB     r1,[r6,r0]            ;616
0008ae  f1050001          ADD      r0,r5,#1              ;617
0008b2  b2c0              UXTB     r0,r0                 ;617
0008b4  5573              STRB     r3,[r6,r5]            ;617
0008b6  f1000301          ADD      r3,r0,#1              ;618
0008ba  b2db              UXTB     r3,r3                 ;618
0008bc  5432              STRB     r2,[r6,r0]            ;618
0008be  f1030001          ADD      r0,r3,#1              ;619
0008c2  b2c0              UXTB     r0,r0                 ;619
0008c4  f806a003          STRB     r10,[r6,r3]           ;619
0008c8  f1000201          ADD      r2,r0,#1              ;620
0008cc  b2d2              UXTB     r2,r2                 ;620
0008ce  f806a000          STRB     r10,[r6,r0]           ;620
0008d2  f1020001          ADD      r0,r2,#1              ;621
0008d6  b2c0              UXTB     r0,r0                 ;621
0008d8  54b1              STRB     r1,[r6,r2]            ;621
0008da  5434              STRB     r4,[r6,r0]            ;622
0008dc  f89d0006          LDRB     r0,[sp,#6]            ;623
0008e0  f04f0200          MOV      r2,#0                 ;623
0008e4  f04f0121          MOV      r1,#0x21              ;623
0008e8  f7fffffe          BL       int2lcd
0008ec  f89d0004          LDRB     r0,[sp,#4]            ;624
0008f0  2200              MOVS     r2,#0                 ;624
0008f2  2123              MOVS     r1,#0x23              ;624
0008f4  f7fffffe          BL       int2lcd
0008f8  f89d0005          LDRB     r0,[sp,#5]            ;625
0008fc  1e40              SUBS     r0,r0,#1              ;625
0008fe  280c              CMP      r0,#0xc               ;625
000900  d301              BCC      |L7.2310|
000902  f88d7005          STRB     r7,[sp,#5]            ;625
                  |L7.2310|
000906  f89d0005          LDRB     r0,[sp,#5]            ;626
00090a  2200              MOVS     r2,#0                 ;626
00090c  eb080080          ADD      r0,r8,r0,LSL #2       ;626
000910  2140              MOVS     r1,#0x40              ;626
000912  f7fffffe          BL       sub_bgnd
000916  e43f              B        |L7.408|
                  |L7.2328|
000918  f89d9009          LDRB     r9,[sp,#9]            ;630
00091c  f1b90f4f          CMP      r9,#0x4f              ;630
000920  d109              BNE      |L7.2358|
000922  f89d900a          LDRB     r9,[sp,#0xa]          ;630
000926  f1b90f55          CMP      r9,#0x55              ;630
00092a  d104              BNE      |L7.2358|
00092c  f89d900b          LDRB     r9,[sp,#0xb]          ;630
000930  f1b90f54          CMP      r9,#0x54              ;630
000934  d003              BEQ      |L7.2366|
                  |L7.2358|
000936  f1be0f4f          CMP      lr,#0x4f              ;672
00093a  d07d              BEQ      |L7.2616|
00093c  e0c8              B        |L7.2768|
                  |L7.2366|
00093e  f1000901          ADD      r9,r0,#1              ;632
000942  f00909ff          AND      r9,r9,#0xff           ;632
000946  f806b000          STRB     r11,[r6,r0]           ;632
00094a  f04f00e2          MOV      r0,#0xe2              ;633
00094e  f1090e01          ADD      lr,r9,#1              ;633
000952  f00e0bff          AND      r11,lr,#0xff          ;633
000956  f8060009          STRB     r0,[r6,r9]            ;633
00095a  f04f0e2e          MOV      lr,#0x2e              ;634
00095e  f10b0901          ADD      r9,r11,#1             ;634
000962  f00909ff          AND      r9,r9,#0xff           ;634
000966  f806e00b          STRB     lr,[r6,r11]           ;634
00096a  f04f0e55          MOV      lr,#0x55              ;635
00096e  f1090b01          ADD      r11,r9,#1             ;635
000972  f00b0bff          AND      r11,r11,#0xff         ;635
000976  f806e009          STRB     lr,[r6,r9]            ;635
00097a  f10b0901          ADD      r9,r11,#1             ;636
00097e  f00909ff          AND      r9,r9,#0xff           ;636
000982  f806000b          STRB     r0,[r6,r11]           ;636
000986  f04f00fb          MOV      r0,#0xfb              ;637
00098a  f1090b01          ADD      r11,r9,#1             ;637
00098e  f00b0bff          AND      r11,r11,#0xff         ;637
000992  f8060009          STRB     r0,[r6,r9]            ;637
000996  f04f00f5          MOV      r0,#0xf5              ;638
00099a  f10b0901          ADD      r9,r11,#1             ;638
00099e  f00909ff          AND      r9,r9,#0xff           ;638
0009a2  f806000b          STRB     r0,[r6,r11]           ;638
0009a6  f1090001          ADD      r0,r9,#1              ;639
0009aa  b2c0              UXTB     r0,r0                 ;639
0009ac  f806a009          STRB     r10,[r6,r9]           ;639
0009b0  f89d9004          LDRB     r9,[sp,#4]            ;641
0009b4  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;641
0009b8  45d9              CMP      r9,r11                ;641
0009ba  d141              BNE      |L7.2624|
0009bc  f89d9005          LDRB     r9,[sp,#5]            ;641
0009c0  f895b038          LDRB     r11,[r5,#0x38]        ;641
0009c4  45d9              CMP      r9,r11                ;641
0009c6  d13b              BNE      |L7.2624|
0009c8  f89d9006          LDRB     r9,[sp,#6]            ;641
0009cc  f895502c          LDRB     r5,[r5,#0x2c]         ;641
0009d0  45a9              CMP      r9,r5                 ;641
0009d2  d135              BNE      |L7.2624|
0009d4  f1000501          ADD      r5,r0,#1              ;643
0009d8  b2ed              UXTB     r5,r5                 ;643
0009da  5431              STRB     r1,[r6,r0]            ;643
0009dc  f1050001          ADD      r0,r5,#1              ;644
0009e0  b2c0              UXTB     r0,r0                 ;644
0009e2  5573              STRB     r3,[r6,r5]            ;644
0009e4  f1000301          ADD      r3,r0,#1              ;645
0009e8  b2db              UXTB     r3,r3                 ;645
0009ea  f806c000          STRB     r12,[r6,r0]           ;645
0009ee  f1030001          ADD      r0,r3,#1              ;646
0009f2  b2c0              UXTB     r0,r0                 ;646
0009f4  54f1              STRB     r1,[r6,r3]            ;646
0009f6  f1000301          ADD      r3,r0,#1              ;647
0009fa  b2db              UXTB     r3,r3                 ;647
0009fc  5432              STRB     r2,[r6,r0]            ;647
0009fe  f1030001          ADD      r0,r3,#1              ;648
000a02  b2c0              UXTB     r0,r0                 ;648
000a04  f806c003          STRB     r12,[r6,r3]           ;648
000a08  f1000201          ADD      r2,r0,#1              ;649
000a0c  b2d2              UXTB     r2,r2                 ;649
000a0e  5431              STRB     r1,[r6,r0]            ;649
000a10  54b4              STRB     r4,[r6,r2]            ;650
000a12  f89d0000          LDRB     r0,[sp,#0]            ;651
000a16  f04f0200          MOV      r2,#0                 ;651
000a1a  f04f0121          MOV      r1,#0x21              ;651
000a1e  f7fffffe          BL       int2lcd
000a22  f89d0001          LDRB     r0,[sp,#1]            ;652
000a26  2200              MOVS     r2,#0                 ;652
000a28  2140              MOVS     r1,#0x40              ;652
000a2a  f7fffffe          BL       int2lcd
000a2e  2200              MOVS     r2,#0                 ;653
000a30  f89d0002          LDRB     r0,[sp,#2]            ;653
000a34  2123              MOVS     r1,#0x23              ;653
000a36  e000              B        |L7.2618|
                  |L7.2616|
000a38  e040              B        |L7.2748|
                  |L7.2618|
000a3a  f7fffffe          BL       int2lcd
                  |L7.2622|
000a3e  e463              B        |L7.776|
                  |L7.2624|
000a40  f1000501          ADD      r5,r0,#1              ;657
000a44  b2ed              UXTB     r5,r5                 ;657
000a46  f806a000          STRB     r10,[r6,r0]           ;657
000a4a  f1050001          ADD      r0,r5,#1              ;658
000a4e  b2c0              UXTB     r0,r0                 ;658
000a50  5571              STRB     r1,[r6,r5]            ;658
000a52  f1000501          ADD      r5,r0,#1              ;659
000a56  b2ed              UXTB     r5,r5                 ;659
000a58  5433              STRB     r3,[r6,r0]            ;659
000a5a  f1050001          ADD      r0,r5,#1              ;660
000a5e  b2c0              UXTB     r0,r0                 ;660
000a60  5572              STRB     r2,[r6,r5]            ;660
000a62  f1000201          ADD      r2,r0,#1              ;661
000a66  b2d2              UXTB     r2,r2                 ;661
000a68  f806a000          STRB     r10,[r6,r0]           ;661
000a6c  f1020001          ADD      r0,r2,#1              ;662
000a70  b2c0              UXTB     r0,r0                 ;662
000a72  f806a002          STRB     r10,[r6,r2]           ;662
000a76  f1000201          ADD      r2,r0,#1              ;663
000a7a  b2d2              UXTB     r2,r2                 ;663
000a7c  5431              STRB     r1,[r6,r0]            ;663
000a7e  54b4              STRB     r4,[r6,r2]            ;664
000a80  f89d0006          LDRB     r0,[sp,#6]            ;665
000a84  f04f0200          MOV      r2,#0                 ;665
000a88  f04f0121          MOV      r1,#0x21              ;665
000a8c  f7fffffe          BL       int2lcd
000a90  f89d0004          LDRB     r0,[sp,#4]            ;666
000a94  2200              MOVS     r2,#0                 ;666
000a96  2123              MOVS     r1,#0x23              ;666
000a98  f7fffffe          BL       int2lcd
000a9c  f89d0005          LDRB     r0,[sp,#5]            ;667
000aa0  1e40              SUBS     r0,r0,#1              ;667
000aa2  280c              CMP      r0,#0xc               ;667
000aa4  d301              BCC      |L7.2730|
000aa6  f88d7005          STRB     r7,[sp,#5]            ;667
                  |L7.2730|
000aaa  f89d0005          LDRB     r0,[sp,#5]            ;668
000aae  2200              MOVS     r2,#0                 ;668
000ab0  eb080080          ADD      r0,r8,r0,LSL #2       ;668
000ab4  2140              MOVS     r1,#0x40              ;668
000ab6  f7fffffe          BL       sub_bgnd
000aba  e425              B        |L7.776|
                  |L7.2748|
000abc  f89d9009          LDRB     r9,[sp,#9]            ;672
000ac0  f1b90f56          CMP      r9,#0x56              ;672
000ac4  d104              BNE      |L7.2768|
000ac6  f89d900a          LDRB     r9,[sp,#0xa]          ;672
000aca  f1b90f4c          CMP      r9,#0x4c              ;672
000ace  d07d              BEQ      |L7.3020|
                  |L7.2768|
000ad0  f1be0f54          CMP      lr,#0x54              ;713
000ad4  d1b3              BNE      |L7.2622|
000ad6  f89d9009          LDRB     r9,[sp,#9]            ;713
000ada  f1b90f53          CMP      r9,#0x53              ;713
000ade  d1ae              BNE      |L7.2622|
000ae0  f89d900a          LDRB     r9,[sp,#0xa]          ;713
000ae4  f1b90f59          CMP      r9,#0x59              ;713
000ae8  d1a9              BNE      |L7.2622|
000aea  f89d900b          LDRB     r9,[sp,#0xb]          ;713
000aee  f1b90f53          CMP      r9,#0x53              ;713
000af2  d1a4              BNE      |L7.2622|
000af4  f1000901          ADD      r9,r0,#1              ;715
000af8  f00909ff          AND      r9,r9,#0xff           ;715
000afc  f806b000          STRB     r11,[r6,r0]           ;715
000b00  f04f0be2          MOV      r11,#0xe2             ;716
000b04  f1090001          ADD      r0,r9,#1              ;716
000b08  b2c0              UXTB     r0,r0                 ;716
000b0a  f806b009          STRB     r11,[r6,r9]           ;716
000b0e  f04f092e          MOV      r9,#0x2e              ;717
000b12  f1000b01          ADD      r11,r0,#1             ;717
000b16  f00b0bff          AND      r11,r11,#0xff         ;717
000b1a  f8069000          STRB     r9,[r6,r0]            ;717
000b1e  f04f0054          MOV      r0,#0x54              ;718
000b22  f10b0901          ADD      r9,r11,#1             ;718
000b26  f00909ff          AND      r9,r9,#0xff           ;718
000b2a  f806000b          STRB     r0,[r6,r11]           ;718
000b2e  f04f0bf1          MOV      r11,#0xf1             ;719
000b32  f1090001          ADD      r0,r9,#1              ;719
000b36  b2c0              UXTB     r0,r0                 ;719
000b38  f806b009          STRB     r11,[r6,r9]           ;719
000b3c  f04f0ee8          MOV      lr,#0xe8              ;720
000b40  f1000901          ADD      r9,r0,#1              ;720
000b44  f00909ff          AND      r9,r9,#0xff           ;720
000b48  f806e000          STRB     lr,[r6,r0]            ;720
000b4c  f1090001          ADD      r0,r9,#1              ;721
000b50  b2c0              UXTB     r0,r0                 ;721
000b52  f806b009          STRB     r11,[r6,r9]           ;721
000b56  f1000901          ADD      r9,r0,#1              ;722
000b5a  f00909ff          AND      r9,r9,#0xff           ;722
000b5e  f806a000          STRB     r10,[r6,r0]           ;722
000b62  f89d0004          LDRB     r0,[sp,#4]            ;724
000b66  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;724
000b6a  4558              CMP      r0,r11                ;724
000b6c  d17e              BNE      |L7.3180|
000b6e  f89d0005          LDRB     r0,[sp,#5]            ;724
000b72  f895b038          LDRB     r11,[r5,#0x38]        ;724
000b76  4558              CMP      r0,r11                ;724
000b78  d178              BNE      |L7.3180|
000b7a  f89d0006          LDRB     r0,[sp,#6]            ;724
000b7e  f895502c          LDRB     r5,[r5,#0x2c]         ;724
000b82  42a8              CMP      r0,r5                 ;724
000b84  d172              BNE      |L7.3180|
000b86  f1090001          ADD      r0,r9,#1              ;726
000b8a  b2c0              UXTB     r0,r0                 ;726
000b8c  f8061009          STRB     r1,[r6,r9]            ;726
000b90  f1000501          ADD      r5,r0,#1              ;727
000b94  b2ed              UXTB     r5,r5                 ;727
000b96  5433              STRB     r3,[r6,r0]            ;727
000b98  f1050001          ADD      r0,r5,#1              ;728
000b9c  b2c0              UXTB     r0,r0                 ;728
000b9e  f806c005          STRB     r12,[r6,r5]           ;728
000ba2  f1000301          ADD      r3,r0,#1              ;729
000ba6  b2db              UXTB     r3,r3                 ;729
000ba8  5431              STRB     r1,[r6,r0]            ;729
000baa  f1030001          ADD      r0,r3,#1              ;730
000bae  b2c0              UXTB     r0,r0                 ;730
000bb0  54f2              STRB     r2,[r6,r3]            ;730
000bb2  f1000201          ADD      r2,r0,#1              ;731
000bb6  b2d2              UXTB     r2,r2                 ;731
000bb8  f806c000          STRB     r12,[r6,r0]           ;731
000bbc  f1020001          ADD      r0,r2,#1              ;732
000bc0  b2c0              UXTB     r0,r0                 ;732
000bc2  54b1              STRB     r1,[r6,r2]            ;732
000bc4  5434              STRB     r4,[r6,r0]            ;733
000bc6  f89d0000          LDRB     r0,[sp,#0]            ;734
000bca  e000              B        |L7.3022|
                  |L7.3020|
000bcc  e012              B        |L7.3060|
                  |L7.3022|
000bce  f04f0200          MOV      r2,#0                 ;734
000bd2  f04f0121          MOV      r1,#0x21              ;734
000bd6  f7fffffe          BL       int2lcd
000bda  f89d0001          LDRB     r0,[sp,#1]            ;735
000bde  2200              MOVS     r2,#0                 ;735
000be0  2140              MOVS     r1,#0x40              ;735
000be2  f7fffffe          BL       int2lcd
000be6  f89d0002          LDRB     r0,[sp,#2]            ;736
000bea  2200              MOVS     r2,#0                 ;736
000bec  2123              MOVS     r1,#0x23              ;736
000bee  f7fffffe          BL       int2lcd
000bf2  e44c              B        |L7.1166|
                  |L7.3060|
000bf4  f04f0bcf          MOV      r11,#0xcf             ;674
000bf8  f1000901          ADD      r9,r0,#1              ;674
000bfc  f00909ff          AND      r9,r9,#0xff           ;674
000c00  f806b000          STRB     r11,[r6,r0]           ;674
000c04  f04f00d0          MOV      r0,#0xd0              ;675
000c08  f1090e01          ADD      lr,r9,#1              ;675
000c0c  f00e0bff          AND      r11,lr,#0xff          ;675
000c10  f8060009          STRB     r0,[r6,r9]            ;675
000c14  f04f0ec3          MOV      lr,#0xc3              ;676
000c18  f10b0901          ADD      r9,r11,#1             ;676
000c1c  f00909ff          AND      r9,r9,#0xff           ;676
000c20  f806e00b          STRB     lr,[r6,r11]           ;676
000c24  f1090b01          ADD      r11,r9,#1             ;677
000c28  f00b0bff          AND      r11,r11,#0xff         ;677
000c2c  f8060009          STRB     r0,[r6,r9]            ;677
000c30  f04f0ec7          MOV      lr,#0xc7              ;678
000c34  f10b0001          ADD      r0,r11,#1             ;678
000c38  f00009ff          AND      r9,r0,#0xff           ;678
000c3c  f806e00b          STRB     lr,[r6,r11]           ;678
000c40  f1090001          ADD      r0,r9,#1              ;679
000c44  b2c0              UXTB     r0,r0                 ;679
000c46  f806a009          STRB     r10,[r6,r9]           ;679
000c4a  f1000901          ADD      r9,r0,#1              ;680
000c4e  f00909ff          AND      r9,r9,#0xff           ;680
000c52  f806a000          STRB     r10,[r6,r0]           ;680
000c56  f1090001          ADD      r0,r9,#1              ;681
000c5a  b2c0              UXTB     r0,r0                 ;681
000c5c  f806a009          STRB     r10,[r6,r9]           ;681
000c60  f89d9004          LDRB     r9,[sp,#4]            ;683
000c64  f8b5b03c          LDRH     r11,[r5,#0x3c]        ;683
000c68  45d9              CMP      r9,r11                ;683
000c6a  e000              B        |L7.3182|
                  |L7.3180|
000c6c  e07e              B        |L7.3436|
                  |L7.3182|
000c6e  d13f              BNE      |L7.3312|
000c70  f89d9005          LDRB     r9,[sp,#5]            ;683
000c74  f895b038          LDRB     r11,[r5,#0x38]        ;683
000c78  45d9              CMP      r9,r11                ;683
000c7a  d139              BNE      |L7.3312|
000c7c  f89d9006          LDRB     r9,[sp,#6]            ;683
000c80  f895502c          LDRB     r5,[r5,#0x2c]         ;683
000c84  45a9              CMP      r9,r5                 ;683
000c86  d133              BNE      |L7.3312|
000c88  f1000501          ADD      r5,r0,#1              ;685
000c8c  b2ed              UXTB     r5,r5                 ;685
000c8e  5431              STRB     r1,[r6,r0]            ;685
000c90  f1050001          ADD      r0,r5,#1              ;686
000c94  b2c0              UXTB     r0,r0                 ;686
000c96  5573              STRB     r3,[r6,r5]            ;686
000c98  f1000301          ADD      r3,r0,#1              ;687
000c9c  b2db              UXTB     r3,r3                 ;687
000c9e  f806c000          STRB     r12,[r6,r0]           ;687
000ca2  f1030001          ADD      r0,r3,#1              ;688
000ca6  b2c0              UXTB     r0,r0                 ;688
000ca8  54f1              STRB     r1,[r6,r3]            ;688
000caa  f1000301          ADD      r3,r0,#1              ;689
000cae  b2db              UXTB     r3,r3                 ;689
000cb0  5432              STRB     r2,[r6,r0]            ;689
000cb2  f1030001          ADD      r0,r3,#1              ;690
000cb6  b2c0              UXTB     r0,r0                 ;690
000cb8  f806c003          STRB     r12,[r6,r3]           ;690
000cbc  f1000201          ADD      r2,r0,#1              ;691
000cc0  b2d2              UXTB     r2,r2                 ;691
000cc2  5431              STRB     r1,[r6,r0]            ;691
000cc4  54b4              STRB     r4,[r6,r2]            ;692
000cc6  f89d0000          LDRB     r0,[sp,#0]            ;693
000cca  f04f0200          MOV      r2,#0                 ;693
000cce  f04f0121          MOV      r1,#0x21              ;693
000cd2  f7fffffe          BL       int2lcd
000cd6  f89d0001          LDRB     r0,[sp,#1]            ;694
000cda  2200              MOVS     r2,#0                 ;694
000cdc  2140              MOVS     r1,#0x40              ;694
000cde  f7fffffe          BL       int2lcd
000ce2  f89d0002          LDRB     r0,[sp,#2]            ;695
000ce6  2200              MOVS     r2,#0                 ;695
000ce8  2123              MOVS     r1,#0x23              ;695
000cea  f7fffffe          BL       int2lcd
000cee  e40c              B        |L7.1290|
                  |L7.3312|
000cf0  f1000501          ADD      r5,r0,#1              ;699
000cf4  b2ed              UXTB     r5,r5                 ;699
000cf6  f806a000          STRB     r10,[r6,r0]           ;699
000cfa  f1050001          ADD      r0,r5,#1              ;700
000cfe  b2c0              UXTB     r0,r0                 ;700
000d00  5571              STRB     r1,[r6,r5]            ;700
000d02  f1000501          ADD      r5,r0,#1              ;701
000d06  b2ed              UXTB     r5,r5                 ;701
000d08  5433              STRB     r3,[r6,r0]            ;701
000d0a  f1050001          ADD      r0,r5,#1              ;702
000d0e  b2c0              UXTB     r0,r0                 ;702
000d10  5572              STRB     r2,[r6,r5]            ;702
000d12  f1000201          ADD      r2,r0,#1              ;703
000d16  b2d2              UXTB     r2,r2                 ;703
000d18  f806a000          STRB     r10,[r6,r0]           ;703
000d1c  f1020001          ADD      r0,r2,#1              ;704
000d20  b2c0              UXTB     r0,r0                 ;704
000d22  f806a002          STRB     r10,[r6,r2]           ;704
000d26  f1000201          ADD      r2,r0,#1              ;705
000d2a  b2d2              UXTB     r2,r2                 ;705
000d2c  5431              STRB     r1,[r6,r0]            ;705
000d2e  54b4              STRB     r4,[r6,r2]            ;706
000d30  f89d0006          LDRB     r0,[sp,#6]            ;707
000d34  f04f0200          MOV      r2,#0                 ;707
000d38  f04f0121          MOV      r1,#0x21              ;707
000d3c  f7fffffe          BL       int2lcd
000d40  f89d0004          LDRB     r0,[sp,#4]            ;708
000d44  2200              MOVS     r2,#0                 ;708
000d46  2123              MOVS     r1,#0x23              ;708
000d48  f7fffffe          BL       int2lcd
000d4c  f89d0005          LDRB     r0,[sp,#5]            ;709
000d50  1e40              SUBS     r0,r0,#1              ;709
000d52  280c              CMP      r0,#0xc               ;709
000d54  d301              BCC      |L7.3418|
000d56  f88d7005          STRB     r7,[sp,#5]            ;709
                  |L7.3418|
000d5a  f89d0005          LDRB     r0,[sp,#5]            ;710
000d5e  2200              MOVS     r2,#0                 ;710
000d60  eb080080          ADD      r0,r8,r0,LSL #2       ;710
000d64  2140              MOVS     r1,#0x40              ;710
000d66  f7fffffe          BL       sub_bgnd
000d6a  e483              B        |L7.1652|
                  |L7.3436|
000d6c  f1090001          ADD      r0,r9,#1              ;740
000d70  b2c0              UXTB     r0,r0                 ;740
000d72  f806a009          STRB     r10,[r6,r9]           ;740
000d76  f1000501          ADD      r5,r0,#1              ;741
000d7a  b2ed              UXTB     r5,r5                 ;741
000d7c  5431              STRB     r1,[r6,r0]            ;741
000d7e  f1050001          ADD      r0,r5,#1              ;742
000d82  b2c0              UXTB     r0,r0                 ;742
000d84  5573              STRB     r3,[r6,r5]            ;742
000d86  f1000301          ADD      r3,r0,#1              ;743
000d8a  b2db              UXTB     r3,r3                 ;743
000d8c  5432              STRB     r2,[r6,r0]            ;743
000d8e  f1030001          ADD      r0,r3,#1              ;744
000d92  b2c0              UXTB     r0,r0                 ;744
000d94  f806a003          STRB     r10,[r6,r3]           ;744
000d98  f1000201          ADD      r2,r0,#1              ;745
000d9c  b2d2              UXTB     r2,r2                 ;745
000d9e  f806a000          STRB     r10,[r6,r0]           ;745
000da2  f1020001          ADD      r0,r2,#1              ;746
000da6  b2c0              UXTB     r0,r0                 ;746
000da8  54b1              STRB     r1,[r6,r2]            ;746
000daa  5434              STRB     r4,[r6,r0]            ;747
000dac  f89d0006          LDRB     r0,[sp,#6]            ;748
000db0  f04f0200          MOV      r2,#0                 ;748
000db4  f04f0121          MOV      r1,#0x21              ;748
000db8  f7fffffe          BL       int2lcd
000dbc  f89d0004          LDRB     r0,[sp,#4]            ;749
000dc0  2200              MOVS     r2,#0                 ;749
000dc2  2123              MOVS     r1,#0x23              ;749
000dc4  f7fffffe          BL       int2lcd
000dc8  f89d0005          LDRB     r0,[sp,#5]            ;750
000dcc  1e40              SUBS     r0,r0,#1              ;750
000dce  280c              CMP      r0,#0xc               ;750
000dd0  d301              BCC      |L7.3542|
000dd2  f88d7005          STRB     r7,[sp,#5]            ;750
                  |L7.3542|
000dd6  f89d0005          LDRB     r0,[sp,#5]            ;751
000dda  2200              MOVS     r2,#0                 ;751
000ddc  eb080080          ADD      r0,r8,r0,LSL #2       ;751
000de0  2140              MOVS     r1,#0x40              ;751
000de2  f7fffffe          BL       sub_bgnd
000de6  e445              B        |L7.1652|
;;;755    
                          ENDP


                          AREA ||area_number.8||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.8||, ||.text||
                  community2lcd PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b5f0              PUSH     {r4-r7,lr}
;;;360    {
000002  4604              MOV      r4,r0
000004  4608              MOV      r0,r1
000006  4616              MOV      r6,r2
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  461f              MOV      r7,r3
00000a  f7fffffe          BL       find
00000e  4602              MOV      r2,r0
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  4610              MOV      r0,r2
000012  4d0c              LDR      r5,|L8.68|
000014  28ff              CMP      r0,#0xff
000016  d106              BNE      |L8.38|
;;;367    tempii*=32;
000018  e008              B        |L8.44|
                  |L8.26|
00001a  5429              STRB     r1,[r5,r0]
;;;368    tempii+=EVENT_LOG;
00001c  f1040401          ADD      r4,r4,#1
000020  f1000001          ADD      r0,r0,#1
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000024  b2c0              UXTB     r0,r0
                  |L8.38|
000026  7821              LDRB     r1,[r4,#0]
000028  2900              CMP      r1,#0
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002a  d1f6              BNE      |L8.26|
                  |L8.44|
00002c  4806              LDR      r0,|L8.72|
00002e  7800              LDRB     r0,[r0,#0]  ; bFL2
000030  2800              CMP      r0,#0
000032  d006              BEQ      |L8.66|
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  2f00              CMP      r7,#0
000036  d004              BEQ      |L8.66|
000038  eb020106          ADD      r1,r2,r6
00003c  f04f005f          MOV      r0,#0x5f
;;;373    
;;;374    iii=find(simbol);
000040  5468              STRB     r0,[r5,r1]
                  |L8.66|
000042  bdf0              POP      {r4-r7,pc}
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  |L8.68|
                          DCD      lcd_buffer
                  |L8.72|
                          DCD      bFL2

                          AREA ||area_number.9||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.9||, ||.text||
                  ip2lcd PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;360    {
000004  4607              MOV      r7,r0
000006  e9dd0509          LDRD     r0,r5,[sp,#0x24]
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
00000a  4688              MOV      r8,r1
00000c  4691              MOV      r9,r2
00000e  469a              MOV      r10,r3
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  f7fffffe          BL       find
000014  4b4a              LDR      r3,|L9.320|
000016  2120              MOVS     r1,#0x20
;;;367    tempii*=32;
000018  4c4a              LDR      r4,|L9.324|
00001a  220a              MOVS     r2,#0xa
;;;368    tempii+=EVENT_LOG;
00001c  f04f0c64          MOV      r12,#0x64
000020  2d01              CMP      r5,#1
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  d109              BNE      |L9.56|
000024  781e              LDRB     r6,[r3,#0]  ; bFL2
000026  b13e              CBZ      r6,|L9.56|
000028  eb040600          ADD      r6,r4,r0
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002c  f1a6060e          SUB      r6,r6,#0xe
000030  70b1              STRB     r1,[r6,#2]
000032  7071              STRB     r1,[r6,#1]
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  7031              STRB     r1,[r6,#0]
000036  e017              B        |L9.104|
                  |L9.56|
000038  fb97fbf2          SDIV     r11,r7,r2
00003c  fb027e1b          MLS      lr,r2,r11,r7
;;;373    
;;;374    iii=find(simbol);
000040  eb040600          ADD      r6,r4,r0
;;;375         
;;;376    if(dt[0]=='U')
000044  f10e0e30          ADD      lr,lr,#0x30
000048  f806ec0c          STRB     lr,[r6,#-0xc]         ;366
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
00004c  fb9bfef2          SDIV     lr,r11,r2
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
000050  fb02bb1e          MLS      r11,r2,lr,r11
000054  f10b0b30          ADD      r11,r11,#0x30         ;380
000058  f806bc0d          STRB     r11,[r6,#-0xd]        ;395
00005c  fb97f7fc          SDIV     r7,r7,r12             ;417
000060  f1070730          ADD      r7,r7,#0x30           ;391
000064  f8067c0e          STRB     r7,[r6,#-0xe]         ;385
                  |L9.104|
000068  2d02              CMP      r5,#2                 ;376
00006a  d109              BNE      |L9.128|
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
00006c  781e              LDRB     r6,[r3,#0]  ; bFL2
00006e  b13e              CBZ      r6,|L9.128|
000070  eb040600          ADD      r6,r4,r0              ;422
000074  f1a6060a          SUB      r6,r6,#0xa            ;422
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
000078  70b1              STRB     r1,[r6,#2]
00007a  7071              STRB     r1,[r6,#1]
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
00007c  7031              STRB     r1,[r6,#0]
00007e  e017              B        |L9.176|
                  |L9.128|
000080  fb98f7f2          SDIV     r7,r8,r2
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
000084  fb028b17          MLS      r11,r2,r7,r8
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
000088  eb040600          ADD      r6,r4,r0
00008c  f1a6060a          SUB      r6,r6,#0xa
000090  f10b0b30          ADD      r11,r11,#0x30         ;378
000094  f886b002          STRB     r11,[r6,#2]           ;378
000098  fb97fbf2          SDIV     r11,r7,r2             ;378
00009c  fb02771b          MLS      r7,r2,r11,r7          ;380
0000a0  f1070730          ADD      r7,r7,#0x30           ;380
0000a4  7077              STRB     r7,[r6,#1]            ;380
0000a6  fb98f7fc          SDIV     r7,r8,r12             ;381
0000aa  f1070730          ADD      r7,r7,#0x30           ;381
0000ae  7037              STRB     r7,[r6,#0]            ;381
                  |L9.176|
0000b0  2d03              CMP      r5,#3                 ;381
0000b2  d109              BNE      |L9.200|
0000b4  781e              LDRB     r6,[r3,#0]            ;381  ; bFL2
0000b6  b13e              CBZ      r6,|L9.200|
0000b8  eb040600          ADD      r6,r4,r0              ;382
0000bc  f1a60606          SUB      r6,r6,#6              ;382
0000c0  70b1              STRB     r1,[r6,#2]            ;382
0000c2  7071              STRB     r1,[r6,#1]            ;382
0000c4  7031              STRB     r1,[r6,#0]            ;385
0000c6  e017              B        |L9.248|
                  |L9.200|
0000c8  fb99f7f2          SDIV     r7,r9,r2              ;385
0000cc  fb029817          MLS      r8,r2,r7,r9           ;385
0000d0  eb040600          ADD      r6,r4,r0              ;386
0000d4  f1a60606          SUB      r6,r6,#6              ;386
0000d8  f1080830          ADD      r8,r8,#0x30           ;386
0000dc  f8868002          STRB     r8,[r6,#2]            ;387
0000e0  fb97f8f2          SDIV     r8,r7,r2              ;387
0000e4  fb027718          MLS      r7,r2,r8,r7           ;387
0000e8  f1070730          ADD      r7,r7,#0x30           ;388
0000ec  7077              STRB     r7,[r6,#1]            ;388
0000ee  fb99f7fc          SDIV     r7,r9,r12             ;388
0000f2  f1070730          ADD      r7,r7,#0x30           ;389
0000f6  7037              STRB     r7,[r6,#0]            ;389
                  |L9.248|
0000f8  2d04              CMP      r5,#4                 ;389
0000fa  d109              BNE      |L9.272|
0000fc  781b              LDRB     r3,[r3,#0]            ;389  ; bFL2
0000fe  b13b              CBZ      r3,|L9.272|
000100  5421              STRB     r1,[r4,r0]            ;391
000102  4420              ADD      r0,r0,r4              ;391
000104  f1a00002          SUB      r0,r0,#2              ;391
000108  7041              STRB     r1,[r0,#1]            ;391
00010a  7001              STRB     r1,[r0,#0]            ;391
                  |L9.268|
00010c  e8bd8ff0          POP      {r4-r11,pc}           ;391
                  |L9.272|
000110  fb9af1f2          SDIV     r1,r10,r2             ;391
000114  fb02a311          MLS      r3,r2,r1,r10          ;391
000118  f1030330          ADD      r3,r3,#0x30           ;391
00011c  5423              STRB     r3,[r4,r0]            ;391
00011e  fb91f3f2          SDIV     r3,r1,r2              ;391
000122  fb021113          MLS      r1,r2,r3,r1           ;393
000126  4420              ADD      r0,r0,r4              ;393
000128  f1a00002          SUB      r0,r0,#2              ;393
00012c  f1010130          ADD      r1,r1,#0x30           ;394
000130  7041              STRB     r1,[r0,#1]            ;394
000132  fb9af1fc          SDIV     r1,r10,r12            ;394
000136  f1010130          ADD      r1,r1,#0x30           ;395
00013a  7001              STRB     r1,[r0,#0]            ;395
00013c  e7e6              B        |L9.268|
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

00013e  0000              DCW      0x0000
                  |L9.320|
                          DCD      bFL2
                  |L9.324|
                          DCD      lcd_buffer

                          AREA ||area_number.10||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.10||, ||.text||
                  checkboxing PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b510              PUSH     {r4,lr}
;;;360    {
000002  460c              MOV      r4,r1
000004  f7fffffe          BL       find
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
000008  4904              LDR      r1,|L10.28|
00000a  b11c              CBZ      r4,|L10.20|
00000c  f04f0203          MOV      r2,#3
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  540a              STRB     r2,[r1,r0]
000012  bd10              POP      {r4,pc}
                  |L10.20|
000014  f04f0204          MOV      r2,#4
;;;367    tempii*=32;
000018  540a              STRB     r2,[r1,r0]
00001a  bd10              POP      {r4,pc}
;;;368    tempii+=EVENT_LOG;
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  |L10.28|
                          DCD      lcd_buffer

                          AREA ||area_number.11||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.11||, ||.text||
                  char2lcdh PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b510              PUSH     {r4,lr}
;;;360    {
000002  4604              MOV      r4,r0
000004  4608              MOV      r0,r1
000006  f7fffffe          BL       find
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
00000a  4a07              LDR      r2,|L11.40|
00000c  f004010f          AND      r1,r4,#0xf
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000010  5c53              LDRB     r3,[r2,r1]
000012  4906              LDR      r1,|L11.44|
000014  540b              STRB     r3,[r1,r0]
000016  f1a00001          SUB      r0,r0,#1
;;;367    tempii*=32;
00001a  b2c0              UXTB     r0,r0
;;;368    tempii+=EVENT_LOG;
00001c  eb021214          ADD      r2,r2,r4,LSR #4
000020  7812              LDRB     r2,[r2,#0]
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  540a              STRB     r2,[r1,r0]
000024  bd10              POP      {r4,pc}
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

000026  0000              DCW      0x0000
                  |L11.40|
                          DCD      ABCDEF
                  |L11.44|
                          DCD      lcd_buffer

                          AREA ||area_number.12||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.12||, ||.text||
                  char2lcdhyx PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b510              PUSH     {r4,lr}
;;;360    {
000002  eb010181          ADD      r1,r1,r1,LSL #2
000006  eb020181          ADD      r1,r2,r1,LSL #2
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
00000a  b2c9              UXTB     r1,r1
00000c  4a06              LDR      r2,|L12.40|
00000e  f000030f          AND      r3,r0,#0xf
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000012  5cd4              LDRB     r4,[r2,r3]
000014  4b05              LDR      r3,|L12.44|
000016  545c              STRB     r4,[r3,r1]
;;;367    tempii*=32;
000018  f1a10101          SUB      r1,r1,#1
;;;368    tempii+=EVENT_LOG;
00001c  b2c9              UXTB     r1,r1
00001e  eb021010          ADD      r0,r2,r0,LSR #4
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  7800              LDRB     r0,[r0,#0]
000024  5458              STRB     r0,[r3,r1]
000026  bd10              POP      {r4,pc}
;;;371    lc640_read_long_ptr(tempii+8,dt_);
;;;372    lc640_read_long_ptr(tempii+12,dt__);
;;;373    
;;;374    iii=find(simbol);
;;;375         
;;;376    if(dt[0]=='U')
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  |L12.40|
                          DCD      ABCDEF
                  |L12.44|
                          DCD      lcd_buffer

                          AREA ||area_number.13||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.13||, ||.text||
                  int2lcdhyx PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b510              PUSH     {r4,lr}
;;;360    {
000002  eb010181          ADD      r1,r1,r1,LSL #2
000006  eb020181          ADD      r1,r2,r1,LSL #2
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
00000a  b2c9              UXTB     r1,r1
00000c  4b0f              LDR      r3,|L13.76|
00000e  f000020f          AND      r2,r0,#0xf
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000012  4c0f              LDR      r4,|L13.80|
000014  5c9a              LDRB     r2,[r3,r2]
000016  5462              STRB     r2,[r4,r1]
;;;367    tempii*=32;
000018  f1a10101          SUB      r1,r1,#1
;;;368    tempii+=EVENT_LOG;
00001c  b2c9              UXTB     r1,r1
00001e  ea4f1210          LSR      r2,r0,#4
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  f002000f          AND      r0,r2,#0xf
000026  5c18              LDRB     r0,[r3,r0]
000028  5460              STRB     r0,[r4,r1]
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002a  f1a10101          SUB      r1,r1,#1
00002e  b2c8              UXTB     r0,r1
000030  ea4f1112          LSR      r1,r2,#4
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  f001020f          AND      r2,r1,#0xf
000038  5c9a              LDRB     r2,[r3,r2]
00003a  5422              STRB     r2,[r4,r0]
00003c  f1a00001          SUB      r0,r0,#1
;;;373    
;;;374    iii=find(simbol);
000040  b2c0              UXTB     r0,r0
000042  ea4f1111          LSR      r1,r1,#4
;;;375         
;;;376    if(dt[0]=='U')
000046  5c59              LDRB     r1,[r3,r1]
000048  5421              STRB     r1,[r4,r0]            ;366
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
00004a  bd10              POP      {r4,pc}
;;;394         	lcd_buffer[iii++]='!';
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  |L13.76|
                          DCD      ABCDEF
                  |L13.80|
                          DCD      lcd_buffer

                          AREA ||area_number.14||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.14||, ||.text||
                  char2lcdbyx PROC
;;;358    //-----------------------------------------------
;;;359    void event2ind(char num, char simbol)
000000  b530              PUSH     {r4,r5,lr}
;;;360    {
000002  eb010181          ADD      r1,r1,r1,LSL #2
000006  eb020181          ADD      r1,r2,r1,LSL #2
;;;361    char iii;
;;;362    char dt[4],dt_[4],dt__[4];
;;;363    unsigned int tempii;    
;;;364    		
;;;365    tempii=lc640_read_int(PTR_EVENT_LOG);
00000a  b2cc              UXTB     r4,r1
00000c  4921              LDR      r1,|L14.148|
00000e  f0000201          AND      r2,r0,#1
;;;366    tempii=ptr_carry(tempii,64,-1*((signed)num));
000012  5c8d              LDRB     r5,[r1,r2]
000014  f1a40201          SUB      r2,r4,#1
;;;367    tempii*=32;
000018  b2d3              UXTB     r3,r2
00001a  4a1f              LDR      r2,|L14.152|
;;;368    tempii+=EVENT_LOG;
00001c  5515              STRB     r5,[r2,r4]
00001e  ea4f0450          LSR      r4,r0,#1
;;;369         
;;;370    lc640_read_long_ptr(tempii,dt);
000022  f0040001          AND      r0,r4,#1
000026  5c0d              LDRB     r5,[r1,r0]
000028  f1a30001          SUB      r0,r3,#1
;;;371    lc640_read_long_ptr(tempii+8,dt_);
00002c  b2c0              UXTB     r0,r0
00002e  54d5              STRB     r5,[r2,r3]
000030  ea4f0454          LSR      r4,r4,#1
;;;372    lc640_read_long_ptr(tempii+12,dt__);
000034  f0040301          AND      r3,r4,#1
000038  5ccd              LDRB     r5,[r1,r3]
00003a  f1a00301          SUB      r3,r0,#1
;;;373    
;;;374    iii=find(simbol);
00003e  b2db              UXTB     r3,r3
000040  5415              STRB     r5,[r2,r0]
000042  ea4f0454          LSR      r4,r4,#1
;;;375         
;;;376    if(dt[0]=='U')
000046  f0040001          AND      r0,r4,#1
;;;377        { 
;;;378        if(dt[2]=='R')
;;;379       		{
;;;380        	lcd_buffer[iii++]='Â';
;;;381       		lcd_buffer[iii++]='ê';
;;;382        	lcd_buffer[iii++]='ë';
;;;383       		}
;;;384        	
;;;385    	lcd_buffer[iii++]=' ';
;;;386    	lcd_buffer[iii++]=' ';     		
;;;387       	lcd_buffer[iii++]=' ';
;;;388       	lcd_buffer[iii++]=' ';
;;;389    	lcd_buffer[iii++]=' ';
;;;390    
;;;391        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;392        	{
;;;393        	lcd_buffer[iii++]='0';
00004a  5c0d              LDRB     r5,[r1,r0]
;;;394         	lcd_buffer[iii++]='!';
00004c  f1a30001          SUB      r0,r3,#1
;;;395         	lcd_buffer[iii++]=':'; 
;;;396         	lcd_buffer[iii++]='0';
;;;397         	lcd_buffer[iii++]='@';
;;;398         	lcd_buffer[iii++]=':';
;;;399         	lcd_buffer[iii++]='0';
;;;400         	lcd_buffer[iii++]='#';
;;;401         	int2lcd(dt__[0],'!',0);
;;;402         	int2lcd(dt__[1],'@',0);
;;;403         	int2lcd(dt__[2],'#',0);    		     		
;;;404         	}	                   
;;;405    	else      	
;;;406            {
;;;407     		lcd_buffer[iii++]=' ';
;;;408         	lcd_buffer[iii++]='0';
;;;409         	lcd_buffer[iii++]='!';
;;;410         	lcd_buffer[iii++]='@'; 
;;;411         	lcd_buffer[iii++]=' ';
;;;412         	lcd_buffer[iii++]=' ';
;;;413         	lcd_buffer[iii++]='0';
;;;414         	lcd_buffer[iii++]='#';
;;;415         	int2lcd(dt_[2],'!',0);
;;;416         	int2lcd(dt_[0],'#',0);   
;;;417         	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;418    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
000050  b2c0              UXTB     r0,r0
000052  54d5              STRB     r5,[r2,r3]
000054  ea4f0454          LSR      r4,r4,#1              ;380
000058  f0040301          AND      r3,r4,#1              ;395
00005c  5ccd              LDRB     r5,[r1,r3]            ;417
00005e  f1a00301          SUB      r3,r0,#1              ;380
000062  b2db              UXTB     r3,r3                 ;385
000064  5415              STRB     r5,[r2,r0]            ;385
000066  ea4f0454          LSR      r4,r4,#1              ;376
00006a  f0040001          AND      r0,r4,#1              ;376
;;;419      		}	   
;;;420         }   
;;;421         
;;;422    else if(dt[0]=='P')
;;;423    	{
;;;424      	lcd_buffer[iii++]='À';
00006e  5c0d              LDRB     r5,[r1,r0]
000070  f1a30001          SUB      r0,r3,#1              ;422
000074  b2c0              UXTB     r0,r0                 ;422
;;;425        lcd_buffer[iii++]='Â';     		
;;;426        lcd_buffer[iii++]='.';
;;;427        lcd_buffer[iii++]='Ï';
;;;428        lcd_buffer[iii++]='Ñ';
;;;429    	lcd_buffer[iii++]=' ';
;;;430        lcd_buffer[iii++]=' ';
;;;431    	lcd_buffer[iii++]=' ';
;;;432         	
;;;433        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;434         	{
;;;435             	lcd_buffer[iii++]='0';
;;;436         	lcd_buffer[iii++]='!';
;;;437        	    	lcd_buffer[iii++]=':'; 
;;;438        		lcd_buffer[iii++]='0';
;;;439        		lcd_buffer[iii++]='@';
;;;440         	lcd_buffer[iii++]=':';
;;;441         	lcd_buffer[iii++]='0';
;;;442         	lcd_buffer[iii++]='#';
;;;443             	int2lcd(dt__[0],'!',0);
;;;444         	int2lcd(dt__[1],'@',0);
;;;445         	int2lcd(dt__[2],'#',0);    		     		
;;;446         	}	                   
;;;447        	else      	
;;;448         	{
;;;449          	lcd_buffer[iii++]=' ';
;;;450         	lcd_buffer[iii++]='0';
;;;451         	lcd_buffer[iii++]='!';
;;;452         	lcd_buffer[iii++]='@'; 
;;;453          	lcd_buffer[iii++]=' ';
;;;454          	lcd_buffer[iii++]=' ';
;;;455          	lcd_buffer[iii++]='0';
;;;456          	lcd_buffer[iii++]='#';
;;;457          	int2lcd(dt_[2],'!',0);
;;;458         	int2lcd(dt_[0],'#',0);   
;;;459          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;460    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;461      		}     	
;;;462         }   
;;;463    
;;;464    else if(dt[0]=='Q')
000076  54d5              STRB     r5,[r2,r3]
000078  ea4f0354          LSR      r3,r4,#1
;;;465    	{
;;;466      	lcd_buffer[iii++]='À';
;;;467        lcd_buffer[iii++]='Â';     		
;;;468        lcd_buffer[iii++]='.';
;;;469        lcd_buffer[iii++]='U';
;;;470        lcd_buffer[iii++]='â';
;;;471    	lcd_buffer[iii++]='û';
;;;472        lcd_buffer[iii++]='õ';
;;;473    	lcd_buffer[iii++]=' ';
;;;474         	
;;;475        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;476         	{
;;;477             	lcd_buffer[iii++]='0';
;;;478         	lcd_buffer[iii++]='!';
;;;479        	    	lcd_buffer[iii++]=':'; 
;;;480        		lcd_buffer[iii++]='0';
;;;481        		lcd_buffer[iii++]='@';
;;;482         	lcd_buffer[iii++]=':';
;;;483         	lcd_buffer[iii++]='0';
;;;484         	lcd_buffer[iii++]='#';
;;;485             	int2lcd(dt__[0],'!',0);
;;;486         	int2lcd(dt__[1],'@',0);
;;;487         	int2lcd(dt__[2],'#',0);    		     		
;;;488         	}	                   
;;;489        	else      	
;;;490         	{
;;;491          	lcd_buffer[iii++]=' ';
;;;492         	lcd_buffer[iii++]='0';
;;;493         	lcd_buffer[iii++]='!';
;;;494         	lcd_buffer[iii++]='@'; 
;;;495          	lcd_buffer[iii++]=' ';
;;;496          	lcd_buffer[iii++]=' ';
;;;497          	lcd_buffer[iii++]='0';
;;;498          	lcd_buffer[iii++]='#';
;;;499          	int2lcd(dt_[2],'!',0);
;;;500         	int2lcd(dt_[0],'#',0);   
;;;501          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;502    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;503      		}     	
;;;504         }   
;;;505    
;;;506       	    
;;;507         	
;;;508    else if(dt[0]=='S')
00007c  f0030401          AND      r4,r3,#1
000080  5d0d              LDRB     r5,[r1,r4]
;;;509        	{
;;;510      		lcd_buffer[iii++]='À';
;;;511        	lcd_buffer[iii++]='Â';     		
;;;512        	lcd_buffer[iii++]='.';
;;;513        	lcd_buffer[iii++]='Á';
;;;514        	lcd_buffer[iii++]='Ï';
;;;515        	lcd_buffer[iii++]='Ñ';
;;;516     	if(dt[1]<9)
;;;517        		{
;;;518        		lcd_buffer[iii++]=0x31+dt[1];
;;;519        		lcd_buffer[iii++]=' ';
;;;520        		}
;;;521        	else if((dt[1]>=9)&&(dt[1]<99))
;;;522        		{
;;;523        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;524        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;525        		}
;;;526        	else 
;;;527        		{
;;;528        		lcd_buffer[iii++]=' ';
;;;529        		lcd_buffer[iii++]=' ';     		
;;;530        		} 
;;;531        	lcd_buffer[iii++]=' '; 
;;;532     //   	lcd_buffer[iii++]=' ';
;;;533        	
;;;534        	if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;535        		{
;;;536        	    	lcd_buffer[iii++]='0';
;;;537        		lcd_buffer[iii++]='!';
;;;538        	    	lcd_buffer[iii++]=':'; 
;;;539        		lcd_buffer[iii++]='0';
;;;540        		lcd_buffer[iii++]='@';
;;;541        		lcd_buffer[iii++]=':';
;;;542        		lcd_buffer[iii++]='0';
;;;543        		lcd_buffer[iii++]='#';
;;;544        	    	int2lcd(dt__[0],'!',0);
;;;545        		int2lcd(dt__[1],'@',0);
;;;546        		int2lcd(dt__[2],'#',0);    		     		
;;;547        		}	                   
;;;548     	else      	
;;;549        		{
;;;550        	 	lcd_buffer[iii++]=' ';
;;;551        		lcd_buffer[iii++]='0';
;;;552        		lcd_buffer[iii++]='!';
;;;553        		lcd_buffer[iii++]='@'; 
;;;554        		lcd_buffer[iii++]=' ';
;;;555        		lcd_buffer[iii++]=' ';
;;;556        		lcd_buffer[iii++]='0';
;;;557        		lcd_buffer[iii++]='#';
;;;558        		int2lcd(dt_[2],'!',0);
;;;559        		int2lcd(dt_[0],'#',0);   
;;;560        		if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;561    		sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;562    		}    	
;;;563        	}
;;;564         	
;;;565    else if(dt[0]=='B')
000082  f1a00401          SUB      r4,r0,#1
000086  b2e4              UXTB     r4,r4
;;;566        	{
;;;567        	lcd_buffer[iii++]='Á';
;;;568        	lcd_buffer[iii++]='à';
;;;569        	lcd_buffer[iii++]='ò';
;;;570     	if(dt[1]<9)
;;;571        		{
;;;572        		lcd_buffer[iii++]=0x31+dt[1];
;;;573        		lcd_buffer[iii++]=' ';
;;;574        		}
;;;575        	else if((dt[1]>=9)&&(dt[1]<99))
;;;576        		{
;;;577        		lcd_buffer[iii++]=0x30+((dt[1]+1)/10);
;;;578        		lcd_buffer[iii++]=0x30+((dt[1]+1)%10);
;;;579        		}
;;;580        	else 
;;;581        		{
;;;582        		lcd_buffer[iii++]=' ';
;;;583        		lcd_buffer[iii++]=' ';     		
;;;584        		} 
;;;585        	lcd_buffer[iii++]=' ';
;;;586        	}     	    
;;;587         	
;;;588    else if((dt[0]=='V')&&(dt[1]=='I')&&(dt[2]=='N'))
000088  5415              STRB     r5,[r2,r0]
00008a  ea4f0053          LSR      r0,r3,#1
00008e  5c08              LDRB     r0,[r1,r0]
000090  5510              STRB     r0,[r2,r4]            ;378
000092  bd30              POP      {r4,r5,pc}            ;378
;;;589    	{
;;;590      	lcd_buffer[iii++]='À';
;;;591        lcd_buffer[iii++]='â';     		
;;;592        lcd_buffer[iii++]='.';
;;;593        lcd_buffer[iii++]='U';
;;;594        lcd_buffer[iii++]='â';
;;;595    	lcd_buffer[iii++]='õ';
;;;596        lcd_buffer[iii++]=' ';
;;;597    	lcd_buffer[iii++]=' ';
;;;598         	
;;;599        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;600         	{
;;;601            lcd_buffer[iii++]='0';
;;;602         	lcd_buffer[iii++]='!';
;;;603        	lcd_buffer[iii++]=':'; 
;;;604        	lcd_buffer[iii++]='0';
;;;605        	lcd_buffer[iii++]='@';
;;;606         	lcd_buffer[iii++]=':';
;;;607         	lcd_buffer[iii++]='0';
;;;608         	lcd_buffer[iii++]='#';
;;;609            int2lcd(dt__[0],'!',0);
;;;610         	int2lcd(dt__[1],'@',0);
;;;611         	int2lcd(dt__[2],'#',0);    		     		
;;;612         	}	                   
;;;613        else      	
;;;614         	{
;;;615          	lcd_buffer[iii++]=' ';
;;;616         	lcd_buffer[iii++]='0';
;;;617         	lcd_buffer[iii++]='!';
;;;618         	lcd_buffer[iii++]='@'; 
;;;619          	lcd_buffer[iii++]=' ';
;;;620          	lcd_buffer[iii++]=' ';
;;;621          	lcd_buffer[iii++]='0';
;;;622          	lcd_buffer[iii++]='#';
;;;623          	int2lcd(dt_[2],'!',0);
;;;624         	int2lcd(dt_[0],'#',0);   
;;;625          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;626    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;627      		}     	
;;;628         } 
;;;629    
;;;630    else if((dt[0]=='V')&&(dt[1]=='O')&&(dt[2]=='U')&&(dt[3]=='T'))
;;;631    	{
;;;632      	lcd_buffer[iii++]='À';
;;;633        lcd_buffer[iii++]='â';     		
;;;634        lcd_buffer[iii++]='.';
;;;635        lcd_buffer[iii++]='U';
;;;636        lcd_buffer[iii++]='â';
;;;637    	lcd_buffer[iii++]='û';
;;;638        lcd_buffer[iii++]='õ';
;;;639    	lcd_buffer[iii++]=' ';
;;;640         	
;;;641        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;642         	{
;;;643            lcd_buffer[iii++]='0';
;;;644         	lcd_buffer[iii++]='!';
;;;645        	lcd_buffer[iii++]=':'; 
;;;646        	lcd_buffer[iii++]='0';
;;;647        	lcd_buffer[iii++]='@';
;;;648         	lcd_buffer[iii++]=':';
;;;649         	lcd_buffer[iii++]='0';
;;;650         	lcd_buffer[iii++]='#';
;;;651            int2lcd(dt__[0],'!',0);
;;;652         	int2lcd(dt__[1],'@',0);
;;;653         	int2lcd(dt__[2],'#',0);    		     		
;;;654         	}	                   
;;;655        else      	
;;;656         	{
;;;657          	lcd_buffer[iii++]=' ';
;;;658         	lcd_buffer[iii++]='0';
;;;659         	lcd_buffer[iii++]='!';
;;;660         	lcd_buffer[iii++]='@'; 
;;;661          	lcd_buffer[iii++]=' ';
;;;662          	lcd_buffer[iii++]=' ';
;;;663          	lcd_buffer[iii++]='0';
;;;664          	lcd_buffer[iii++]='#';
;;;665          	int2lcd(dt_[2],'!',0);
;;;666         	int2lcd(dt_[0],'#',0);   
;;;667          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;668    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;669      		}     	
;;;670         }  
;;;671    
;;;672    else if((dt[0]=='O')&&(dt[1]=='V')&&(dt[2]=='L'))
;;;673    	{
;;;674      	lcd_buffer[iii++]='Ï';
;;;675        lcd_buffer[iii++]='Ð';     		
;;;676        lcd_buffer[iii++]='Ã';
;;;677        lcd_buffer[iii++]='Ð';
;;;678        lcd_buffer[iii++]='Ç';
;;;679    	lcd_buffer[iii++]=' ';
;;;680        lcd_buffer[iii++]=' ';
;;;681    	lcd_buffer[iii++]=' ';
;;;682         	
;;;683        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;684         	{
;;;685            lcd_buffer[iii++]='0';
;;;686         	lcd_buffer[iii++]='!';
;;;687        	lcd_buffer[iii++]=':'; 
;;;688        	lcd_buffer[iii++]='0';
;;;689        	lcd_buffer[iii++]='@';
;;;690         	lcd_buffer[iii++]=':';
;;;691         	lcd_buffer[iii++]='0';
;;;692         	lcd_buffer[iii++]='#';
;;;693            int2lcd(dt__[0],'!',0);
;;;694         	int2lcd(dt__[1],'@',0);
;;;695         	int2lcd(dt__[2],'#',0);    		     		
;;;696         	}	                   
;;;697        else      	
;;;698         	{
;;;699          	lcd_buffer[iii++]=' ';
;;;700         	lcd_buffer[iii++]='0';
;;;701         	lcd_buffer[iii++]='!';
;;;702         	lcd_buffer[iii++]='@'; 
;;;703          	lcd_buffer[iii++]=' ';
;;;704          	lcd_buffer[iii++]=' ';
;;;705          	lcd_buffer[iii++]='0';
;;;706          	lcd_buffer[iii++]='#';
;;;707          	int2lcd(dt_[2],'!',0);
;;;708         	int2lcd(dt_[0],'#',0);   
;;;709          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;710    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;711      		}     	
;;;712         }
;;;713    else if((dt[0]=='T')&&(dt[1]=='S')&&(dt[2]=='Y')&&(dt[3]=='S'))
;;;714    	{
;;;715      	lcd_buffer[iii++]='À';
;;;716        lcd_buffer[iii++]='â';     		
;;;717        lcd_buffer[iii++]='.';
;;;718        lcd_buffer[iii++]='T';
;;;719        lcd_buffer[iii++]='ñ';
;;;720    	lcd_buffer[iii++]='è';
;;;721        lcd_buffer[iii++]='ñ';
;;;722    	lcd_buffer[iii++]=' ';
;;;723         	
;;;724        if((dt_[0]==LPC_RTC->YEAR)&&(dt_[1]==LPC_RTC->MONTH)&&(dt_[2]==LPC_RTC->DOM))
;;;725         	{
;;;726            lcd_buffer[iii++]='0';
;;;727         	lcd_buffer[iii++]='!';
;;;728        	lcd_buffer[iii++]=':'; 
;;;729        	lcd_buffer[iii++]='0';
;;;730        	lcd_buffer[iii++]='@';
;;;731         	lcd_buffer[iii++]=':';
;;;732         	lcd_buffer[iii++]='0';
;;;733         	lcd_buffer[iii++]='#';
;;;734            int2lcd(dt__[0],'!',0);
;;;735         	int2lcd(dt__[1],'@',0);
;;;736         	int2lcd(dt__[2],'#',0);    		     		
;;;737         	}	                   
;;;738        else      	
;;;739         	{
;;;740          	lcd_buffer[iii++]=' ';
;;;741         	lcd_buffer[iii++]='0';
;;;742         	lcd_buffer[iii++]='!';
;;;743         	lcd_buffer[iii++]='@'; 
;;;744          	lcd_buffer[iii++]=' ';
;;;745          	lcd_buffer[iii++]=' ';
;;;746          	lcd_buffer[iii++]='0';
;;;747          	lcd_buffer[iii++]='#';
;;;748          	int2lcd(dt_[2],'!',0);
;;;749         	int2lcd(dt_[0],'#',0);   
;;;750          	if(!((dt_[1]>=1)&&(dt_[1]<=12)))dt_[1]=1;
;;;751    	 	sub_bgnd(sm_mont[dt_[1]],'@',0);  
;;;752      		}     	
;;;753         }  	      
;;;754    }	
;;;755    
                          ENDP

                  |L14.148|
                          DCD      ABCDEF
                  |L14.152|
                          DCD      lcd_buffer

;*** Start embedded assembler ***

#line 1 "common_func.c"
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___13_common_func_c_abs____REV16|
#line 112 "C:\\Keil\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___13_common_func_c_abs____REV16| PROC
#line 113

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___13_common_func_c_abs____REVSH|
#line 130
|__asm___13_common_func_c_abs____REVSH| PROC
#line 131

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
